(function(g){var window=this;'use strict';var $a=function(a){a.publish("cardstatechange",a.bW()&&a.BH()?1:0)},iB=function(a,I){var U=g.af(I),e=U?I:arguments;
for(U=U?0:1;U<e.length;U++){if(a==null)return;a=a[e[U]]}return a},Otd=function(a){var I=g.zr(a);
a=g.oD(a);return new g.Yf(I.x,I.y,a.width,a.height)},SWQ=function(a,I,U){var e=e===void 0?{}:e;
var T;return T=g.Wk(a,I,function(){g.lR(T);U.apply(a,arguments)},e)},cZ=function(a){a=g.Uj(a);
delete Lx[a];g.vo(Lx)&&gT&&gT.stop()},yqD=function(){gT||(gT=new g.Dy(function(){Ga8()},20));
var a=gT;a.isActive()||a.start()},Ga8=function(){var a=g.rd();
g.dd(Lx,function(I){Eez(I,a)});
g.vo(Lx)||yqD()},WZ=function(a,I,U,e){g.bl.call(this);
if(!Array.isArray(a)||!Array.isArray(I))throw Error("Start and end parameters must be arrays");if(a.length!=I.length)throw Error("Start and end points must be the same length");this.L=a;this.C=I;this.duration=U;this.U=e;this.coords=[];this.progress=this.Y=0;this.J=null},Eez=function(a,I){I<a.startTime&&(a.endTime=I+a.endTime-a.startTime,a.startTime=I);
a.progress=(I-a.startTime)/(a.endTime-a.startTime);a.progress>1&&(a.progress=1);a.Y=1E3/(I-a.J);a.J=I;d_4(a,a.progress);a.progress==1?(a.V=0,cZ(a),a.onFinish(),a.yT()):a.isPlaying()&&a.zU()},d_4=function(a,I){typeof a.U==="function"&&(I=a.U(I));
a.coords=Array(a.L.length);for(var U=0;U<a.L.length;U++)a.coords[U]=(a.C[U]-a.L[U])*I+a.L[U]},R9o=function(a,I){g.aI.call(this,a);
this.coords=I.coords;this.x=I.coords[0];this.y=I.coords[1];this.z=I.coords[2];this.duration=I.duration;this.progress=I.progress;this.fps=I.Y;this.state=I.V},lB=function(a,I,U,e,T){WZ.call(this,I,U,e,T);
this.element=a},w5z=function(a,I,U,e,T){if(I.length!=2||U.length!=2)throw Error("Start and end points must be 2D");
lB.call(this,a,I,U,e,T)},Fq4=function(a){return Math.pow(a,3)},m_z=function(a){return 3*a*a-2*a*a*a},Qq4=function(a){g.S.call(this);
this.L=a||window;this.V=[]},BZ=function(a){return a.baseUrl||null},XI=function(a,I){return g.Sa(g.FX(a,I),function(U){return!!U})},z9Q=function(a,I,U){function e(eb){var v=eb.hovercardButton;
if(!v)return null;v=v.subscribeButtonRenderer;if(!v)return null;var Hw=C(v.unsubscribedButtonText),N=C(v.subscribedButtonText);if(v.subscribed){var ML=C(v.subscriberCountWithUnsubscribeText);var gC=C(v.subscriberCountText)}else ML=C(v.subscriberCountText),gC=C(v.subscriberCountWithSubscribeText);var R5=null;if(eb.signinEndpoint){R5=iB(eb,"signinEndpoint","webNavigationEndpointData","url");if(!R5){var Lo,xJ;R5=(xJ=g.d((Lo=v.signInEndpoint)==null?void 0:Lo.commandMetadata,g.uL))==null?void 0:xJ.url}if(!R5)return null}return Hw&&
(N||R5)?{subscribed:v.subscribed,subscribeText:Hw,subscribeCount:ML,unsubscribeText:N,unsubscribeCount:gC,enabled:v.enabled,signinUrl:R5,classic:eb.useClassicSubscribeButton}:null}
function T(eb){if(eb){var v=[],Hw=eb.videoId;Hw&&v.push("v="+Hw);(Hw=eb.playlistId)&&v.push("list="+Hw);(eb=eb.startTimeSeconds)&&v.push("t="+eb);return"/watch?"+v.join("&")}}
function C(eb){if(!eb)return null;var v=eb.simpleText;return v?v:eb.runs?g.FX(eb.runs,function(Hw){return Hw.text}).join(""):null}
I=I.endscreenElementRenderer;if(!I)return null;var r=I.style,q=I.endpoint||{},x=null,Z=null,t=!1,n=null,K=null,b=null,J=null,V=!1,M=null,c=null,W=null,B=null,Y=null,y=null;if(r==="VIDEO")g.d(q,g.Fl)?x=g.d(q,g.Fl).url:(y=g.d(q,g.Cn),x=T(y)),Z=!1,n=a,I.thumbnailOverlays?(t=I.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,K=C(t.text),t=t.style==="LIVE"):K=C(I.videoDuration);else if(r==="PLAYLIST")g.d(q,g.Fl)?x=g.d(q,g.Fl).url:(y=g.d(q,g.Cn),x=T(y)),Z=!1,n=a,b=C(I.playlistLength);else if(r===
"CHANNEL"){if(V=iB(q,"browseEndpoint","browseId"))J=V,x="/channel/"+J;Z=!1;n="new";(V=!!I.isSubscribe)?M=e(I):c=C(I.subscribersText)}else r==="WEBSITE"?((W=iB(q,"urlEndpoint","url"))&&(x=W),Z=!0,n="new",W=I.icon.thumbnails[0].url):r==="CREATOR_MERCHANDISE"&&(I.productPrice&&(B=C(I.productPrice)),I.additionalFeesText&&(Y=C(I.additionalFeesText)),(Z=iB(q,"urlEndpoint","url"))&&(x=Z),Z=!0,n="new");a=iB(I,"title","accessibility","accessibilityData","label");var z=I.endpoint?I.endpoint.clickTrackingParams:
null,m="";if(I.metadata){var sS=C(I.metadata);sS&&(m=sS)}return{id:"element-"+U,type:r,title:C(I.title),metadata:m,callToAction:C(I.callToAction),Qr:I.image,iconUrl:W,left:Number(I.left),width:Number(I.width),top:Number(I.top),aspectRatio:Number(I.aspectRatio),startMs:Math.floor(Number(I.startMs)),endMs:Math.floor(Number(I.endMs)),videoDuration:K,Jc:t,playlistLength:b,channelId:J,subscribeButton:M,subscribersText:c,isSubscribe:V,targetUrl:x||null,E6U:Z,sessionData:z?{itct:z}:null,cSa:n,Ou:a?a:null,
isPlaceholder:I.isPlaceholder,impressionUrls:XI(I.impressionUrls||[],BZ),Xsn:XI(I.hovercardShowUrls||[],BZ),clickUrls:XI(q.loggingUrls||[],BZ),visualElement:g.B$(I.trackingParams),productPrice:B,additionalFeesText:Y,watchEndpoint:y||null}},h9J=function(a,I){var U={startMs:Math.floor(Number(a.startMs)),
impressionUrls:XI(a.impressionUrls||[],BZ),elements:XI(a.elements||[],function(e,T){return z9Q(I,e,T)})};
a.trackingParams&&(U.visualElement=g.B$(a.trackingParams));return U},NxI=function(a){g.nu.call(this,a);
this.J=this.endscreen=null;this.L={};this.Y={};this.U=this.B=null;this.D=[];this.V=null;this.Va=!0;this.C=0;a=a.X();this.j=g.dV(a)||g.wV(a);this.events=new g.Ru(this);g.E(this,this.events);this.events.G(this.player,g.ZW("creatorendscreen"),this.onCueRangeEnter);this.events.G(this.player,g.tS("creatorendscreen"),this.onCueRangeExit);this.events.G(this.player,"resize",this.jj);this.events.G(window,"focus",this.lUw);this.load();var I=g.vA("STYLE");(g.wr("HEAD")[0]||document.body).appendChild(I);this.addOnDisposeCallback(function(){g.ec(I)});
I.sheet&&(I.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),I.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},oeo=function(a){return a.player.getVideoData().uc?"current":a.j?"new":"current"},PZ=function(a){return a.player.X().playerStyle==="creator-endscreen-editor"},D_j=function(a){var I=a.player.getVideoData(),U=I.videoId;
a.J&&a.J.abort();U={method:"POST",onFinish:function(T){var C=a.J=null;T.status===200&&(T=T.responseText,T.substring(0,3)===")]}"&&(T=T.substring(3),C=JSON.parse(T),C=h9J(C,oeo(a))));px(a,C)},
urlParams:{v:U},withCredentials:!0};a.j&&(U.urlParams.ptype="embedded");var e=I.bb;e&&(U.postParams={ad_tracking:e});if(I=g.ZTb(I))if(I=g.hY(I),I=g.Fv(I))a.J=g.lk(I,U)},px=function(a,I,U){U=U===void 0?!0:U;
a.player.HE("creatorendscreen");a.B&&(a.B.dispose(),a.B=null,a.U.dispose(),a.U=null);for(var e=g.k(Object.values(a.L)),T=e.next();!T.done;T=e.next())T.value.dispose();a.L={};a.Y={};a.D.length>0&&(a.D.forEach(function(q){q.dispose()}),a.D.length=0);
a.V&&(g.ta(a.V,"ytp-ce-element-show"),a.V.setAttribute("aria-hidden","true"));a.C=0;if((a.endscreen=I)&&I.elements){U&&ved(a);U=[];e=new g.qA(I.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});U.push(e);a.player.X().L||(a.B=new g.F({W:"div",T:"ytp-ce-shadow"}),g.w4(a.player,a.B.element,4),a.U=new g.qq(a.B,200));for(e=0;e<I.elements.length;++e){T=I.elements[e];var C=a2J(a,T);if(C){a.L[T.id]=C;a.Y[T.id]=T;g.w4(a.player,C.element,4);var r=new g.qA(T.startMs,T.endMs,{id:"ytp-ce-element-"+
T.id,namespace:"creatorendscreen"});U.push(r);I2o(a,C,T)}else g.RS(new g.vk("buildEndscreenElement null",T))}a.player.xw(U);a.jj()}},ved=function(a){var I=g.P$(),U=g.pF();
U&&I&&a.endscreen.visualElement&&g.sT(g.Io)(void 0,U,I,a.endscreen.visualElement)},a2J=function(a,I){var U=null;
switch(I.type){case "VIDEO":a={W:"div",ww:["ytp-ce-element","ytp-ce-video"],S:{tabindex:"0","aria-label":I.Ou||"","aria-hidden":"true"},Z:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-covering-image",S:fx(I)},{W:"div",T:"ytp-ce-covering-shadow-top"},{W:"a",T:"ytp-ce-covering-overlay",S:{href:Ya(a,I.targetUrl),tabindex:"-1"},Z:[{W:"div",ww:["ytp-ce-video-title","ytp-webkit-ellipsis"],S:{dir:g.Aa(I.title||"")},AU:I.title},{W:"div",T:I.Jc?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
AU:I.videoDuration||void 0}]}]};U=new g.F(a);break;case "PLAYLIST":a={W:"div",ww:["ytp-ce-element","ytp-ce-playlist"],S:{tabindex:"0","aria-label":I.Ou||"","aria-hidden":"true"},Z:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-covering-image",S:fx(I)},{W:"div",T:"ytp-ce-covering-shadow-top"},{W:"a",T:"ytp-ce-covering-overlay",S:{href:Ya(a,I.targetUrl),tabindex:"-1"},Z:[{W:"div",ww:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],S:{dir:g.Aa(I.title||"")},AU:I.title},{W:"div",T:"ytp-ce-playlist-count",
Z:[{W:"div",T:"ytp-ce-playlist-icon"},{W:"div",T:"ytp-ce-playlist-count-text",AU:I.playlistLength||void 0}]}]}]};U=new g.F(a);break;case "CHANNEL":U={W:"div",ww:["ytp-ce-element","ytp-ce-channel",I.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],S:{tabindex:"0","aria-label":I.Ou||"","aria-hidden":"true"},Z:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",Z:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",
Z:[{W:"div",T:"ytp-ce-expanding-overlay-body",Z:[{W:"div",T:"ytp-ce-expanding-overlay-body-padding",Z:[{W:"a",ww:["ytp-ce-channel-title","ytp-ce-link"],S:{href:Ya(a,I.targetUrl),target:"_blank",tabindex:"-1",dir:g.Aa(I.title||"")},AU:I.title},I.subscribeButton?{W:"div",T:"ytp-ce-subscribe-container",Z:[{W:"div",T:"ytp-ce-channel-subscribe"}]}:"",I.subscribersText?{W:"div",T:"ytp-ce-channel-subscribers-text",AU:I.subscribersText}:"",I.metadata?{W:"div",ww:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],AU:I.metadata}:""]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",S:fx(I)}]};U=new g.F(U);var e=g.mO(document,"div","ytp-ce-channel-subscribe",U.element)[0];if(I.subscribeButton&&I.channelId){g.x5(e,"ytp-ce-subscribe-button");if(a.player.X().L){var T=null;var C=I.sessionData.itct}else T="endscreen",C=null;T=new g.QL(I.subscribeButton.subscribeText,I.subscribeButton.subscribeCount,I.subscribeButton.unsubscribeText,I.subscribeButton.unsubscribeCount,!!I.subscribeButton.enabled,!!I.subscribeButton.classic,
I.channelId,!!I.subscribeButton.subscribed,T,C,a.player,!1);e.appendChild(T.element);a.D.push(T)}break;case "WEBSITE":a={W:"div",ww:["ytp-ce-element","ytp-ce-website"],S:{tabindex:"0","aria-label":I.Ou||"","aria-hidden":"true"},Z:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",Z:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",Z:[{W:"div",T:"ytp-ce-expanding-overlay-body",Z:[{W:"div",
T:"ytp-ce-expanding-overlay-body-padding",Z:[{W:"div",T:"ytp-ce-website-title",S:{dir:g.Aa(I.title||"")},AU:I.title},{W:"div",T:"ytp-ce-website-metadata",AU:I.metadata},{W:"a",ww:["ytp-ce-website-goto","ytp-ce-link"],S:{href:Ya(a,I.targetUrl),target:"_blank",tabindex:"-1"},AU:I.callToAction}]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",S:fx(I)},{W:"div",T:"ytp-ce-expanding-icon",S:sgj(I.iconUrl)}]};U=new g.F(a);break;case "CREATOR_MERCHANDISE":U="",I.productPrice&&(U={W:"div",T:"ytp-ce-merchandise-price-container",
Z:[{W:"div",T:"ytp-ce-merchandise-price",AU:I.productPrice}]},I.additionalFeesText&&U.Z.push({W:"div",T:"ytp-ce-merchandise-additional-fees",AU:I.additionalFeesText})),a={W:"div",ww:["ytp-ce-element","ytp-ce-merchandise"],S:{tabindex:"0","aria-label":I.Ou||"","aria-hidden":"true"},Z:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",Z:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",
Z:[{W:"div",T:"ytp-ce-expanding-overlay-body",Z:[{W:"div",T:"ytp-ce-expanding-overlay-body-padding",Z:[{W:"div",T:"ytp-ce-merchandise-title",S:{dir:g.Aa(I.title||"")},AU:I.title},U,{W:"div",T:"ytp-ce-merchandise-metadata",AU:I.metadata},{W:"a",ww:["ytp-ce-merchandise-goto","ytp-ce-link"],S:{href:Ya(a,I.targetUrl),target:"_blank",tabindex:"-1"},AU:I.callToAction}]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",S:fx(I)},{W:"div",T:"ytp-ce-merchandise-invideo-cta-container",Z:[{W:"div",T:"ytp-ce-merchandise-invideo-cta",
AU:I.callToAction||void 0}]}]},U=new g.F(a)}I.isPlaceholder&&g.x5(U.element,"ytp-ce-placeholder");return U},fx=function(a){if(a.Qr)var I=a.Qr.thumbnails;
return sgj(I?I[I.length-1].url:null)},sgj=function(a){return a?{style:"background-image: url("+a+")"}:{}},I2o=function(a,I,U){function e(x){x&&(I.listen("blur",function(){x.style.display!="none"&&a.Va&&x.focus()}),I.G(x,"focus",C),I.G(x,"blur",r))}
function T(x){a.C+=x;a.C>0?(g.x5(I.element,"ytp-ce-force-expand"),OF(a,U.id,!0)):(g.ta(I.element,"ytp-ce-force-expand"),g.ta(I.element,"ytp-ce-element-hover"),OF(a,U.id,!1))}
function C(){T(1)}
function r(){T(-1)}
I.listen("mouseenter",function(){Ucz(a,I,U)});
I.listen("mouseleave",function(){exI(a,I,U)});
a.player.X().L||I.listen("click",function(){g.x5(I.element,"ytp-ce-element-hover")});
I.listen("click",function(x){Tpm(a,U,x)});
I.listen("keypress",function(x){Tpm(a,U,x)});
I.listen("focus",function(){Ucz(a,I,U)});
I.listen("blur",function(){exI(a,I,U)});
I.listen("touchstart",function(){Ucz(a,I,U)});
var q=g.Qs("ytp-ce-expanding-overlay-hider",I.element);q&&I.G(q,"touchstart",function(x){x.stopPropagation();g.ta(I.element,"ytp-ce-element-hover");g.ta(I.element,"ytp-ce-force-expand")});
I.listen("keydown",function(x){a.Va=x.keyCode===9&&!x.shiftKey});
e(g.Qs("ytp-sb-subscribe",I.element));e(g.Qs("ytp-sb-unsubscribe",I.element));I.listen("focus",C);I.listen("blur",r)},Tpm=function(a,I,U){if(I.targetUrl&&(!U||U.type!=="keypress"||U.keyCode===13)){for(var e=U.target;e&&!g.qI(e,"ytp-ce-element");){g.qI(e,"subscribe-label")&&CJz(a,I);
if(g.qI(e,"ytp-ce-channel-subscribe"))return;e=e.parentElement||null}if(!e||g.qI(e,"ytp-ce-element-hover")){U.preventDefault();U.stopPropagation();if(e=a.L[I.id])exI(a,e,I),e.element.blur();if(U.ctrlKey||U.metaKey||I.cSa==="new")CJz(a,I),a.player.sendVideoStatsEngageEvent(17,void 0),a.player.pauseVideo(),U=g.hY(Ya(a,I.targetUrl)),U=g.Fv(U),g.o6(U,void 0,I.sessionData);else{var T=g.eI(a.player.X())||a.player.getVideoData().uc,C=function(){var r=Ya(a,I.targetUrl),q=I.sessionData,x=I.watchEndpoint,Z=
g.HI(r);T&&Z&&(Z.v||Z.list)?a.player.pT(Z.v,q,Z.list,!1,void 0,x||void 0):g.Nq(r,q)};
CJz(a,I,function(){a.player.sendVideoStatsEngageEvent(17,C)})}}}},Ya=function(a,I){a=a.player.X();
if(I){if(I.startsWith("//"))return a.protocol+":"+I;if(I.startsWith("/"))return g.Zq(a)+I}else return"";return I},Ucz=function(a,I,U){g.qI(I.element,"ytp-ce-element-hover")||(U.type==="VIDEO"||U.type==="PLAYLIST"?g.x5(I.element,"ytp-ce-element-hover"):a.player.X().L?(new g.Dy(function(){g.x5(I.element,"ytp-ce-element-hover")},200)).start():g.x5(I.element,"ytp-ce-element-hover"),SV(a,U.Xsn),OF(a,U.id,!0))},exI=function(a,I,U){g.ta(I.element,"ytp-ce-element-hover");
g.ta(I.element,"ytp-ce-force-expand");OF(a,U.id,!1)},OF=function(a,I,U){a.B&&(U?a.U.show():a.U.hide());
for(var e=g.k(Object.keys(a.L)),T=e.next();!T.done;T=e.next())T=T.value,T!==I&&g.KC(a.L[T].element,"ytp-ce-element-shadow-show",U)},SV=function(a,I,U){function e(){C||(T++,T===I.length&&(r.stop(),U&&U()))}
if(!I||I.length===0||PZ(a))U&&U();else{I=rDo(a,I);var T=0,C=!1,r=new g.Dy(function(){C=!0;U&&U()},1E3,a);
r.start();for(a=0;a<I.length;a++)g.QJ(I[a],e)}},CJz=function(a,I,U){SV(a,I.clickUrls,U);
(a=g.pF())&&I.E6U&&g.nb(a,I.visualElement)},rDo=function(a,I){var U=a.player.getVideoData().clientPlaybackNonce;
a=a.player.getCurrentTime().toFixed(2);U={CPN:U,AD_CPN:U,MT:a};a=[];for(var e=0;e<I.length;e++)a.push(HHm(I[e],U));return a},HHm=function(a,I){return a.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(U){var e=unescape(U);
e=e.substring(1,e.length-1);return I[e]?escape(I[e]):U})},qwo=function(a){return typeof a==="string"?a:""},GT=function(a,I,U){for(var e in I)if(I[e]===a)return a;
return U},xcm=function(a,I,U,e){this.value=a;
this.target=I;this.showLinkIcon=U;this.V=e},y6=function(a){return a.value?a.value:null},EF=function(a){if(!a)return null;
var I=g.hY(qwo(a.value));I=g.Fv(I);if(!I)return null;var U=GT(a.target,ZHm,"current");if(U==null)a=null;else{var e=a.show_link_icon;a=new xcm(I,U,e==="true"||e==="false"?e==="true":!0,a.pause_on_navigation!=null?a.pause_on_navigation:!0)}return a},tK4=function(a,I,U){this.type=a;
this.trigger=I;this.url=U},bHz=function(a){if(!a)return null;
var I=GT(a.type,nEj),U=GT(a.trigger,KUf);a=a.url;a=Array.isArray(a)&&a.length?a[0]:a;a=EF(a?a:null);return I?new tK4(I,U,a):null},JD8=function(a,I,U,e,T){this.id=a;
this.type=I;this.style=U;this.data=T;this.action=e||[]},uhQ=function(a,I){return g.Jz(a.action,I)},kBQ=function(a,I){this.context=a;
this.V=I},VKd=function(a){return a.customMessage?dT("div","iv-card-message",a.customMessage):""},Rv=function(a,I){a="background-image: url("+a+");";
var U=[];I&&U.push(I);return{W:"div",T:"iv-card-image",S:{style:a},Z:U}},ADf=function(a){if(!a.metaInfo||a.metaInfo.length===0)return"";
var I=[];a=g.k(a.metaInfo);for(var U=a.next();!U.done;U=a.next())I.push(dT("li","",U.value));return{W:"ul",T:"iv-card-meta-info",Z:I}},dT=function(a,I,U){I?typeof I==="string"?I={"class":I}:Array.isArray(I)&&(I={"class":I.join(" ")}):I={};
I.dir=g.Aa(U);return{W:a,S:I,AU:U}},MKG=function(a){if(!a.customMessage)return"";
var I=["iv-card-action","iv-card-primary-link"],U={};a.q5&&(I.push("iv-card-action-icon"),U.style="background-image: url("+a.q5+");");U.dir=g.Aa(a.customMessage);var e=[{W:"span",AU:a.customMessage}];a.showLinkIcon&&(e.push("\u00a0"),e.push({W:"span",T:"iv-card-link-icon"}));return{W:"div",ww:I,S:U,Z:e}},wT=function(a,I,U,e){if(e){I=g.k(I);
for(var T=I.next();!T.done;T=I.next())a.V(T.value,e,U.id,U.sessionData,U.w6.click,5)}},jgQ=function(a,I){this.merchant=a;
this.price=I},$cI=function(a){var I;
(I=a)&&!(I=a.length>1?a.charAt(0)==="/"&&a.charAt(1)!=="/":a==="/")&&(I=a.replace(/^(https?:)?\/\//,"").split("/",1),I=!I||I.length<1||!I[0]?[]:I[0].toLowerCase().split(".").reverse(),I=I[0]==="com"&&I[1]==="youtube"||I[0]==="be"&&I[1]==="youtu");return I?a.indexOf("/redirect?")===-1:!1},iHz=function(a,I){return I?I:$cI(a)?"current":"new"},FI=function(a,I){g.S.call(this);
var U=this;this.element=a;this.context=I;this.i5=!1;this.fO=new Map;this.Z6=new Map;this.context.K.addEventListener(g.ZW("annotations_module"),function(e){(e=U.fO.get(e))&&e.apply(U)});
this.context.K.addEventListener(g.tS("annotations_module"),function(e){(e=U.Z6.get(e))&&e.apply(U)})},mT=function(a,I,U,e,T,C,r){a.context.V.listen(I,"click",function(q){a.p9(U,e,T,C||[],r||0,q)});
a.context.V.listen(I,"touchstart",function(){a.i5=!1});
a.context.V.listen(I,"touchmove",function(){a.i5=!0})},LUd=function(a){var I;
return((I=g.d(a,g.Fl))==null?0:I.url)?g.d(a,g.Fl).url:(a=g.d(a,g.Cn))&&a.videoId?(I="/watch?v="+a.videoId,a.playlistId&&(I+="&list="+a.playlistId),a.index&&(I+="&index="+a.index),a.startTimeSeconds&&(I+="&t="+a.startTimeSeconds),I):null},Q6=function(a,I,U){return{bf:(a.impressionLoggingUrlsV2s||[]).map(function(e){return e.baseUrl||""}),
click:(U.loggingUrls||[]).map(function(e){return e.baseUrl||""}),
close:(I.dismissLoggingUrlsV2s||[]).map(function(e){return e.baseUrl||""}),
QC:(I.impressionLoggingUrlsV2s||[]).map(function(e){return e.baseUrl||""}),
rz:(I.clickLoggingUrlsV2s||[]).map(function(e){return e.baseUrl||""})}},gEj=function(a,I,U){FI.call(this,I,U);
var e=this;this.K=a;this.eventId=null;this.B8=this.zt=this.hN=this.B=this.isInitialized=!1;this.cards=[];this.E7=this.D=this.Ux=this.U=this.a$=this.V=null;this.Va=[];this.gw=this.C=this.gx=this.dw=null;this.Y=0;this.tU=new g.Dy(function(){},U.Ex.K$?4E3:3E3);
g.E(this,this.tU);this.xa=new g.Dy(function(){});
g.E(this,this.xa);this.e8=new kBQ(U,function(T,C,r,q,x,Z){mT(e,T,C,r,q,x,Z)});
this.j=new g.F({W:"div",T:"iv-drawer",S:{id:"iv-drawer"},Z:[{W:"div",T:"iv-drawer-header",S:{"aria-role":"heading"},Z:[{W:"span",T:"iv-drawer-header-text"},{W:"button",ww:["iv-drawer-close-button","ytp-button"],S:{"aria-label":"\u96b1\u85cf\u8cc7\u8a0a\u5361",tabindex:"0"}}]},{W:"div",T:"iv-drawer-content"}]});g.E(this,this.j);this.J=this.j.element;this.XX=new g.qq(this.j,330);g.E(this,this.XX);this.Vo=g.Qs("iv-drawer-header-text",this.J);this.L=g.Qs("iv-drawer-content",this.J);this.addCueRange(0,
U.videoData.lengthSeconds*1E3,"",function(){e.hN&&zT(e,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(e.hN=e.B)&&hH(e)});
this.CO=new g.Ru(this);g.E(this,this.CO);this.K.addEventListener("videodatachange",this.xn.bind(this))},cDj=function(a,I){I=I.data;
I.autoOpenMs&&a.addCueRange(I.autoOpenMs,0x8000000000000,"",function(){zT(a,"YOUTUBE_DRAWER_AUTO_OPEN")});
I.autoCloseMs&&a.addCueRange(I.autoCloseMs,0x8000000000000,"",function(){hH(a)});
var U=I.headerText;g.CM(a.Vo,U);a.D&&a.D.setAttribute("title",U);I.eventId&&(a.eventId=I.eventId);a.dw=g.B$(I.trackingParams);a.C=g.B$(I.closeTrackingParams);a.gx=g.B$(I.iconTrackingParams)},WUo=function(a,I){var U=I.cardId?I.cardId:"cr:"+a.Y,e=a.K.X().experiments.S8("enable_error_corrections_infocard_web_client");
if(!I.content&&I.teaser.simpleCardTeaserRenderer&&e){var T=I.teaser.simpleCardTeaserRenderer,C=I.icon?I.icon.infoCardIconRenderer:null;I={id:U,timestamp:a.Y,type:"simple",teaserText:g.id(T.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:{},sponsored:!1,w6:{},JB:null,gK:T.trackingParams?g.B$(T.trackingParams):null,gx:C&&C.trackingParams?g.B$(C.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
q5:null,title:"",customMessage:"",url:null,onClickCommand:T.onTapCommand||null};NQ(a,I)}else{var r;if((r=I.content)==null?0:r.simpleCardContentRenderer){if(!I.cueRanges.length)return;C=(T=I.content)==null?void 0:T.simpleCardContentRenderer;T=I.teaser.simpleCardTeaserRenderer;var q=I.icon?I.icon.infoCardIconRenderer:null;I={id:U,timestamp:a.Y,type:"simple",teaserText:g.id(T.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,
sessionData:ov(a,U,I,C),sponsored:!1,w6:Q6(C,T,C.command),JB:C.trackingParams?g.B$(C.trackingParams):null,gK:T.trackingParams?g.B$(T.trackingParams):null,gx:q&&q.trackingParams?g.B$(q.trackingParams):null,imageUrl:DF(C.image.thumbnails,290).url,displayDomain:C.displayDomain?g.id(C.displayDomain):null,showLinkIcon:!!C.showLinkIcon,q5:null,title:C.title?g.id(C.title):"",customMessage:C.callToAction?g.id(C.callToAction):"",url:g.d(C.command,g.Fl).url?EF({pause_on_navigation:!a.context.videoData.isLivePlayback,
target:"new",value:g.d(C.command,g.Fl).url}):null,onClickCommand:null};NQ(a,I)}else{var x;if((x=I.content)==null?0:x.collaboratorInfoCardContentRenderer){if(!I.cueRanges.length)return;T=(C=I.content)==null?void 0:C.collaboratorInfoCardContentRenderer;C=I.teaser.simpleCardTeaserRenderer;q=I.icon?I.icon.infoCardIconRenderer:null;I={id:U,timestamp:a.Y,type:"collaborator",teaserText:g.id(C.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),
autoOpen:!!I.autoOpen,sessionData:ov(a,U,I,T),sponsored:!1,w6:Q6(T,C,T.endpoint),JB:T.trackingParams?g.B$(T.trackingParams):null,gK:C.trackingParams?g.B$(C.trackingParams):null,gx:q&&q.trackingParams?g.B$(q.trackingParams):null,channelId:g.d(T.endpoint,g.PD).browseId,customMessage:T.customText?g.id(T.customText):null,profileImageUrl:DF(T.channelAvatar.thumbnails,290).url,title:T.channelName?g.id(T.channelName):"",metaInfo:[T.subscriberCountText?g.id(T.subscriberCountText):""],url:EF({pause_on_navigation:!a.context.videoData.isLivePlayback,
target:"new",value:g.d(T.endpoint,g.PD).canonicalBaseUrl?g.d(T.endpoint,g.PD).canonicalBaseUrl:"/channel/"+g.d(T.endpoint,g.PD).browseId}),onClickCommand:null};NQ(a,I)}else{var Z;if((Z=I.content)==null?0:Z.playlistInfoCardContentRenderer){if(!I.cueRanges.length)return;T=(q=I.content)==null?void 0:q.playlistInfoCardContentRenderer;C=I.teaser.simpleCardTeaserRenderer;q=I.icon?I.icon.infoCardIconRenderer:null;I={id:U,timestamp:a.Y,type:"playlist",teaserText:g.id(C.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),
startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:ov(a,U,I,T),sponsored:!1,w6:Q6(T,C,T.action),JB:T.trackingParams?g.B$(T.trackingParams):null,gK:C.trackingParams?g.B$(C.trackingParams):null,gx:q&&q.trackingParams?g.B$(q.trackingParams):null,UL:DF(T.playlistThumbnail.thumbnails,258).url,customMessage:T.customMessage?g.id(T.customMessage):null,playlistVideoCount:g.id(T.playlistVideoCount),title:T.playlistTitle?g.id(T.playlistTitle):"",metaInfo:[T.channelName?g.id(T.channelName):
"",T.videoCountText?g.id(T.videoCountText):""],url:EF({pause_on_navigation:!a.context.videoData.isLivePlayback,target:"new",value:LUd(T.action)}),onClickCommand:null};NQ(a,I)}else{var t;if((t=I.content)==null?0:t.videoInfoCardContentRenderer){if(!I.cueRanges.length)return;var n;T=(n=I.content)==null?void 0:n.videoInfoCardContentRenderer;C=I.teaser.simpleCardTeaserRenderer;q=I.icon?I.icon.infoCardIconRenderer:null;I={id:U,timestamp:a.Y,type:"video",teaserText:g.id(C.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),
startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:ov(a,U,I,T),sponsored:!1,w6:Q6(T,C,T.action),JB:T.trackingParams?g.B$(T.trackingParams):null,gK:C.trackingParams?g.B$(C.trackingParams):null,gx:q&&q.trackingParams?g.B$(q.trackingParams):null,UL:DF(T.videoThumbnail.thumbnails,258).url,videoDuration:T.lengthString?g.id(T.lengthString):null,customMessage:T.customMessage?g.id(T.customMessage):null,title:T.videoTitle?g.id(T.videoTitle):"",metaInfo:[T.channelName?g.id(T.channelName):
"",T.viewCountText?g.id(T.viewCountText):""],isLiveNow:!!T.badge,url:EF({pause_on_navigation:!a.context.videoData.isLivePlayback,target:"new",value:LUd(T.action)}),onClickCommand:null};NQ(a,I)}}}}}a.Y++},DF=function(a,I){for(var U=-1,e=-1,T=0;T<a.length;T++){if(a[T].height===I||a[T].width===290)return a[T];
((a[T].height||0)<I||(a[T].width||0)<290)&&(U<0||(a[U].height||0)<(a[T].height||0)||(a[U].width||0)<(a[T].width||0))?U=T:((a[T].height||0)>=I||(a[T].width||0)>=290)&&(e<0||(a[e].height||0)>(a[T].height||0)||(a[e].width||0)>(a[T].width||0))&&(e=T)}return a[e>=0?e:U]},ov=function(a,I,U,e){return{feature:U.feature?U.feature:"cards",
src_vid:a.context.videoData.videoId,annotation_id:I,ei:a.context.videoData.eventId||"",itct:e.trackingParams||""}},Bpo=function(a,I){if(I=l2G(a,I))I===a.V&&(a.V=null),a.K.removeCueRange(I.E1.id),g.ec(I.qW),g.Az(a.cards,I),a.rG(),vZ(a)},zT=function(a,I,U){if(!a.B){a.XX.show();
a.a$=new g.Dy(function(){g.x5(a.context.K.getRootNode(),g.e6.IV_DRAWER_OPEN)},0);
a.a$.start();a.CO.G(a.L,"mousewheel",function(r){a.tU.start();r.preventDefault();r=r||window.event;var q=0;r.type=="MozMousePixelScroll"?q=0==(r.axis==r.HORIZONTAL_AXIS)?r.detail:0:window.opera?q=r.detail:q=r.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?r.wheelDeltaY/-30:r.wheelDeltaY/-1.2:r.wheelDelta/-1.6:r.wheelDeltaY/-3;if(r=q)a.L.scrollTop+=r});
a.B=!0;var e=g.pF();e&&a.dw&&a.C&&g.Zm(e,[a.dw,a.C]);I={TRIGGER_TYPE:I};for(var T=g.k(a.cards),C=T.next();!C.done;C=T.next())C=C.value,C.wm||(C.wm=!0,Xt8(a.context.logger,C.E1.w6.bf,I)),e&&g.Zm(e,[C.E1.JB]);$a(a.K);U&&(a.U=new g.Dy(function(){a.Ux=a.D;a.E7.focus()},330),a.U.start())}},hH=function(a){a.B&&(a.XX.hide(),g.Y3(a.CO),g.ta(a.context.K.getRootNode(),g.e6.IV_DRAWER_OPEN),a.B=!1,$a(a.K),a.U&&a.U.stop(),a.U=new g.Dy(function(){a.Ux&&(a.Ux.focus(),a.Ux=null)},330),a.U.start())},PJ4=function(a){g.ZE(a.oF(),
[g.e6.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.w4(a.K,a.J,5);a.bT();a.D=g.Qs("ytp-cards-button",a.K.getRootNode());a.E7=g.Qs("iv-drawer-close-button",a.J);a.isInitialized=!0},ptJ=function(a){a.Va.push(g.ZM("iv-teaser-shown",a.HN,a));
a.Va.push(g.ZM("iv-teaser-hidden",a.zGs,a));a.Va.push(g.ZM("iv-teaser-clicked",a.Gz,a));a.B8=!0},f2G=function(a,I){var U;
return I.onClickCommand&&((U=g.d(I.onClickCommand,g.qed))==null?void 0:U.targetId)==="engagement-panel-error-corrections"?(a.gw=I,!0):!1},Ywd=function(a,I){a.gw=I;
var U=a.K.getVideoData();if(!U)return!1;U=g.fP(U);if(U==null?0:U.markersMap)for(var e,T=0;((e=U)==null?void 0:e.markersMap.length)>T;T++){var C=void 0,r=(C=U)==null?void 0:C.markersMap[T];if(r.key==="ERROR_CORRECTION_MARKERS"&&(C=void 0,(r=(C=r.value)==null?void 0:C.markers)&&r.length>0))return e=void 0,I.startMs=((e=g.d(r[0],g.yHC))==null?void 0:e.timeRangeStartMillis)||0,a.gw=null,!0}return!1},NQ=function(a,I){if(!f2G(a,I)||Ywd(a,I)){var U=OHj(a,I);
if(U){var e={E1:I,qW:U.element,wm:!1};if(I.onClickCommand)a.K.N("web_infocards_teaser_show_logging_fix")&&(a.B8||ptJ(a),Bpo(a,I.id),U=a.findLastIndex(e),g.Wo(a.cards,U,0,e));else{a.isInitialized||PJ4(a);Bpo(a,I.id);var T=a.findLastIndex(e);g.Wo(a.cards,T,0,e);U.KO(a.L,T);a.rG()}I.autoOpen?a.addCueRange(I.startMs,0x8000000000000,I.id,function(){a.B||(a.V=e,vZ(a),SwQ(a,e),zT(a,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(U=a.context.K.getCurrentTime()*1E3,U<5E3&&U>I.startMs&&GBm(a,e),a.addCueRange(I.startMs,
I.startMs+1,I.id,function(){GBm(a,e)}),vZ(a))}}},OHj=function(a,I){switch(I.type){case "simple":a=a.e8;
var U=I.displayDomain?{W:"div",T:"iv-card-image-text",AU:I.displayDomain}:void 0;var e=MKG(I);U={W:"div",ww:["iv-card"],Z:[{W:"a",T:"iv-click-target",S:{href:I.url?y6(I.url)||"":""},Z:[Rv(I.imageUrl,U),{W:"div",T:"iv-card-content",Z:[dT("h2",void 0,I.title),e]}]}]};U=new g.F(U);wT(a,g.F0("iv-click-target",U.element),I,I.url);I=U;break;case "collaborator":a=a.e8;U={W:"div",ww:["iv-card","iv-card-channel"],Z:[{W:"a",ww:["iv-click-target"],S:{href:y6(I.url)||"","data-ytid":I.channelId},Z:[Rv(I.profileImageUrl),
{W:"div",T:"iv-card-content",Z:[VKd(I),{W:"h2",T:"iv-card-primary-link",AU:I.title},ADf(I)]}]}]};U=new g.F(U);wT(a,g.F0("iv-click-target",U.element),I,I.url);I=U;break;case "playlist":a=a.e8;U={W:"div",ww:["iv-card","iv-card-playlist"],Z:[{W:"a",T:"iv-click-target",S:{href:y6(I.url)||""},Z:[Rv(I.UL,{W:"div",T:"iv-card-image-overlay",Z:[{W:"span",T:"iv-card-playlist-video-count",AU:I.playlistVideoCount}]}),{W:"div",T:"iv-card-content",Z:[VKd(I),dT("h2","iv-card-primary-link",I.title),ADf(I)]}]}]};
U=new g.F(U);wT(a,g.F0("iv-click-target",U.element),I,I.url);I=U;break;case "productListing":a=a.e8;var T=I.offers.length!=0;U=["iv-card"];e="";var C=MKG(I);T&&(U.push("iv-card-product-listing"),e="iv-card-primary-link",C=I.offers[0],T=[],C.price&&T.push({W:"div",T:"iv-card-offer-price",AU:C.price}),C.merchant&&T.push({W:"div",T:"iv-card-offer-merchant",AU:C.merchant}),C={W:"div",Z:T});T=I.url?y6(I.url)||"":"";U={W:"div",ww:U,S:{tabindex:"0"},Z:[{W:"a",ww:["iv-card-image","iv-click-target"],S:{style:"background-image: url("+
I.imageUrl+");",href:T,"aria-hidden":"true",tabindex:"-1"}},{W:"div",T:"iv-card-content",Z:[I.sponsored?{W:"div",T:"iv-card-sponsored",Z:["\u8d0a\u52a9\u5546",{W:"div",T:"iv-ad-info-container",Z:[{W:"div",T:"iv-ad-info",AU:"{{adInfo}}"},{W:"div",T:"iv-ad-info-icon-container",Z:[{W:"div",T:"iv-ad-info-icon"},{W:"div",T:"iv-ad-info-callout"}]}]}]}:"",{W:"a",T:"iv-click-target",S:{href:T},Z:[dT("h2",e,I.title),C]}]}]};U=new g.F(U);e=g.vA("span");g.CM(e,"\u60a8\u4e4b\u6240\u4ee5\u770b\u5230\u9019\u9805\u7522\u54c1\uff0c\u662f\u56e0\u70ba\u6211\u5011\u8a8d\u70ba\u7522\u54c1\u8207\u5f71\u7247\u76f8\u95dc\u3002Google \u53ef\u80fd\u6703\u5411\u5546\u5bb6\u6536\u53d6\u5ee3\u544a\u8cbb\u7528\u3002");
U.E9(e,"adInfo");wT(a,g.F0("iv-click-target",U.element),I,I.url);I=U;break;case "video":a=a.e8;e=I.videoDuration?{W:"span",T:"iv-card-video-duration",AU:I.videoDuration}:void 0;C=I.isLiveNow?{W:"span",ww:["yt-badge","yt-badge-live"],AU:"\u76f4\u64ad\u4e2d"}:null;T={W:"div",ww:["iv-card","iv-card-video"],Z:[{W:"a",T:"iv-click-target",S:{href:((U=I.url)==null?void 0:y6(U))||""},Z:[Rv(I.UL,e),{W:"div",T:"iv-card-content",Z:[VKd(I),dT("h2","iv-card-primary-link",I.title),ADf(I),C]}]}]};U=new g.F(T);wT(a,
g.F0("iv-click-target",U.element),I,I.url);I=U;break;default:return null}return I},yDo=function(a){if(a.V)return a.V.E1.type==="productListing";
if(a.K.N("enable_wn_infocards")){var I;return!((I=a.cards)==null||!I.length)&&g.mm(a.cards,function(U){return U.E1.type==="productListing"})}return g.mm(a.cards,function(U){return U.E1.type==="productListing"})},vZ=function(a){g.KC(a.K.getRootNode(),"ytp-cards-shopping-active",yDo(a))},GBm=function(a,I){if(!g.qI(a.K.getRootNode(),"ytp-cards-teaser-shown")){if(a.V!==I){var U=g.pF(),e=a.V?a.V.E1.gx:a.gx;
U&&e&&g.t_(U,[e]);a.V=I;vZ(a)}if(U=a.isInitialized)U=a.oF().style.display=="none";U||(U=a.context.K.getPlayerState(),e=U===0&&a.context.K.getCurrentTime()===0,U=!(U===1||U===3||e));U||I.E1.teaserDurationMs&&a.K.d4(!0,{teaserText:I.E1.teaserText,durationMs:I.E1.teaserDurationMs,onClickCommand:I.E1.onClickCommand});a.xa.isActive()||((!a.B||!a.tU.isActive()&&a.zt)&&SwQ(a,I),a.xa.start(910+I.E1.teaserDurationMs))}},SwQ=function(a,I){a.j.gF?(I=new WZ([0,
a.L.scrollTop],[0,I.qW.offsetTop],600,m_z),a.context.B.listen(I,"animate",function(U){a.L.scrollTop=U.y}),a.context.B.listen(I,"finish",function(U){a.L.scrollTop=U.y}),I.play()):(a.j.Vx(!0),a.L.scrollTop=I.qW.offsetTop,a.j.Vx(!1))},az=function(a){return a.V&&a.V.E1?a.V.E1:a.cards[0]&&a.cards[0].E1?a.cards[0].E1:null},l2G=function(a,I){return g.Jz(a.cards,function(U){return U.E1.id===I})},Iz=function(a,I,U){FI.call(this,a,I);
this.annotation=U;this.isActive=!1},EEo=function(a){var I=a.annotation.data;
"start_ms"in I&&"end_ms"in I&&a.addCueRange(Number(I.start_ms),Number(I.end_ms),a.annotation.id,function(){a.show()},function(){a.hide()})},so=function(a,I,U){Iz.call(this,a,I,U);
this.L=null;this.C=!1;this.B=null;this.J=!1;this.V=this.Y=this.U=null},dco=function(a,I){var U=U===void 0?0:U;
var e=Otd(I).width;g.mL(I,e);U=new w5z(I,[e,I.offsetTop],[e-e-U,I.offsetTop],200,Fq4);g.E(a,U);a.context.B.listen(U,"begin",function(){g.DZ(I,!0)});
U.play()},FUG=function(a,I){if(I.channel_name){var U=a.createElement({W:"div",
ww:["iv-branding-context-name"],AU:I.channel_name}),e=a.createElement({W:"div",ww:["iv-branding-context-subscribe"]}),T=I.standalone_subscribe_button_data;T&&(a.V=new g.QL(T.subscribeText,T.subscribeCount,T.unsubscribeText,T.unsubscribeCount,!!T.enabled,!!T.classic,I.channel_id,!!T.subscribed,T.feature,I.session_data.itct,a.context.K,!1),a.V.KO(e));var C=a.createElement({W:"div",ww:["iv-branding-context-subscribe-caret"]}),r=a.createElement({W:"div",ww:["branding-context-container-inner"]});r.appendChild(C);
r.appendChild(U);r.appendChild(e);g.DZ(r,!1);var q=a.createElement({W:"div",ww:["branding-context-container-outer"]});q.appendChild(r);g.Gr(q,"right",I.image_width+"px");g.IA(a.oF(),q);a.B=new g.Dy(function(){RxG(a,r,q)},500);
g.E(a,a.B);a.context.V.listen(a.oF(),"mouseover",function(){wtm(a,r,q,C,I.image_height)});
a.context.V.listen(a.oF(),"mouseout",function(){a.B.start()})}},wtm=function(a,I,U,e,T){a.B.stop();
if(!a.J){var C=g.oD(I);a.V||(I.style.width=g.F7(C.width,!0),U.style.width=g.F7(C.width,!0));g.Gr(e,"top",C.height-Math.max(Math.min(C.height,T)/2+10,20)+"px");g.Gr(e,"right","1px");a.J=!0;g.DZ(I,!0);a.U=new g.Dy(function(){g.x5(this.oF(),"iv-branding-active")},0,a);
a.U.start()}},RxG=function(a,I,U){g.ta(a.oF(),"iv-branding-active");
a.Y=new g.Dy(function(){g.DZ(I,!1);a.V||(U.style.width=g.F7(0,!0))},250);
a.Y.start();a.J=!1},mcd=function(a,I,U,e,T,C,r){this.V=a;
this.B=I;this.Ex=U;this.videoData=e;this.logger=T;this.K=C;this.L=r},Qgd=function(a,I,U){Iz.call(this,a,I,U);
var e=this;this.D=this.isCollapsed=this.j=!1;this.Y=5E3;this.L=this.B=this.V=this.J=null;this.C=this.createElement({W:"div",ww:["iv-promo-contents"]});this.U=new g.Dy(function(){e.V.setAttribute("aria-hidden","true");g.DZ(e.B,!1);g.DZ(e.L,!0)},700,this);
g.E(this,this.U)},hxj=function(a){var I=a.annotation.data;
if(a.annotation.style==="cta")var U=6;else if(a.annotation.style==="video"||a.annotation.style==="playlist")U=7;a.Y=I.collapsedelay_ms||a.Y;var e=["iv-promo","iv-promo-inactive"];a.oF().setAttribute("aria-hidden","true");a.oF().setAttribute("aria-label","\u5ba3\u50b3");a.oF().tabIndex=0;var T=a.annotation.MJ(),C=I.image_url;if(C){var r=a.createElement({W:"div",ww:["iv-promo-img","iv-click-target"]});C=a.createElement({W:"img",S:{src:C,"aria-hidden":"true"}});r.appendChild(C);I.video_duration&&!I.is_live?
(C=a.createElement({W:"span",T:"iv-promo-video-duration",AU:I.video_duration}),r.appendChild(C)):I.playlist_length&&(C=a.createElement({W:"span",T:"iv-promo-playlist-length",AU:I.playlist_length.toString()}),r.appendChild(C));T&&mT(a,r,T,a.annotation.id,I.session_data,void 0,U)}T?(C=a.createElement({W:"a",T:"iv-promo-txt"}),g.ox(C,y6(T)),a.V=C):a.V=a.createElement({W:"div",T:"iv-promo-txt"});switch(a.annotation.style){case "cta":case "website":var q=a.createElement({W:"p",Z:[{W:"strong",AU:I.text_line_1}]});
var x=a.createElement({W:"p",Z:[{W:"span",T:"iv-promo-link",AU:I.text_line_2}]});if(C=I.text_line_3){e.push("iv-promo-website-card-cta-redesign");var Z=a.createElement({W:"button",ww:["iv-promo-round-expand-icon","ytp-button"]});C=a.createElement({W:"button",ww:["iv-button","iv-promo-button"],Z:[{W:"span",T:"iv-button-content",AU:C}]});var t=a.createElement({W:"div",T:"iv-promo-button-container"});t.appendChild(C);T&&mT(a,a.oF(),T,a.annotation.id,I.session_data,void 0,U)}g.x5(a.V,"iv-click-target");
T&&mT(a,a.V,T,a.annotation.id,I.session_data,void 0,U);break;case "playlist":case "video":q=a.createElement({W:"p",Z:[{W:"span",AU:I.text_line_1}]}),x=a.createElement({W:"p",Z:[{W:"strong",AU:I.text_line_2}]}),I.is_live&&(q=x,x=a.createElement({W:"span",ww:["yt-badge","iv-promo-badge-live"],AU:"\u76f4\u64ad\u4e2d"})),g.x5(a.V,"iv-click-target"),T&&mT(a,a.V,T,a.annotation.id,I.session_data,void 0,U),e.push("iv-promo-video")}q&&a.V.appendChild(q);x&&a.V.appendChild(x);a.C.appendChild(a.V);t&&a.C.appendChild(t);
U=a.createElement({W:"div",T:"iv-promo-actions"});a.L=a.createElement({W:"button",ww:["iv-promo-expand","ytp-button"]});a.L.title="\u5c55\u958b\n";a.context.V.listen(a.L,"click",function(n){zxz(a,5E3,n)});
U.appendChild(a.L);g.DZ(a.L,!1);a.context.V.listen(a.oF(),"mouseover",a.oaO,a);a.context.V.listen(a.oF(),"mouseout",a.dnK,a);a.context.V.listen(a.oF(),"touchend",function(n){zxz(a,5E3,n)});
a.B=a.createElement({W:"button",ww:["iv-promo-close","ytp-button"]});a.B.title="\u95dc\u9589";a.context.V.listen(a.B,"click",a.annotation.style==="cta"&&I.text_line_3?a.hmK:a.emK,a);U.appendChild(a.B);g.ZE(a.oF(),e);r&&(g.IA(a.oF(),r),Z&&r.appendChild(Z));g.IA(a.oF(),a.C);g.IA(a.oF(),U)},zxz=function(a,I,U){U.stopPropagation();
NpG(a);oEz(a,I);a.V.focus()},DcD=function(a){a.isCollapsed||a.D||a.J||(g.x5(a.oF(),"iv-promo-collapsed"),a.isCollapsed=!0,a.U.start())},NpG=function(a){a.U.stop();
a.isCollapsed&&(g.nC(a.oF(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),a.isCollapsed=!1,a.V&&a.V.removeAttribute("aria-hidden"),g.DZ(a.L,!1),g.DZ(a.B,!0))},oEz=function(a,I){a.J||(a.J=g.dJ(function(){vEQ(this);
DcD(this)},I,a))},vEQ=function(a){a.J&&(g.zs.clearTimeout(a.J),a.J=null)},aRz=function(a){this.K=a},Xt8=function(a,I,U){I&&(U?Uo(a,I.map(function(e){return g.Yu(e,U)})):Uo(a,I))},Uo=function(a,I,U,e){var T=1,C=void 0,r=-1;
if(U){var q=!1;C=function(){T--;T||q||(clearTimeout(r),q=!0,U())};
r=setTimeout(function(){q=!0;U()},1E3)}I=g.k(I||[]);
for(var x=I.next();!x.done;x=I.next())x=x.value,T++,g.QJ(x,C);e&&(T++,e!==0&&a.K.sendVideoStatsEngageEvent(e,C))},IRD=function(a){g.nu.call(this,a);
var I=this;this.Va=this.D=!1;this.loadNumber=0;this.Y={};this.logger=new aRz(this.player);this.J=new g.Ru(this);this.U=this.C=null;this.events=new g.Ru(this);this.bN=this.j=this.V=null;this.gw=[];g.E(this,this.J);this.J.G(this.player,"onVideoAreaChange",function(){I.publish("onVideoAreaChange")});
this.J.G(this.player,"onHideControls",function(){I.publish("onHideControls")});
this.J.G(this.player,"onShowControls",function(){I.publish("onShowControls")});
this.J.G(this.player,"resize",function(e){I.publish("resize",e)});
this.J.G(this.player,"presentingplayerstatechange",function(e){I.publish("presentingplayerstatechange",e)});
this.subscribe("presentingplayerstatechange",this.QU,this);this.subscribe("resize",this.iE,this);this.player.X().Ux.subscribe("vast_info_card_add",this.Sv,this);g.E(this,this.events);this.e8=this.createElement({W:"div",T:"video-custom-annotations"});this.L=new g.F({W:"div",ww:["ytp-player-content","ytp-iv-player-content"]});g.E(this,this.L);g.w4(this.player,this.L.element,4);this.L.hide();this.B=new g.F({W:"div",ww:["ytp-iv-video-content"]});g.E(this,this.B);a=this.createElement({W:"div",T:"video-annotations"});
a.appendChild(this.e8);this.B.element.appendChild(a);this.zZ()&&this.load();var U=this.createElement({W:"style"});(g.wr("HEAD")[0]||document.body).appendChild(U);this.addOnDisposeCallback(function(){g.ec(U)});
if(a=U.sheet)a.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),a.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),a.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),a.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),a.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),a.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),a.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),a.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),a.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),a.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},sWm=function(a){a=a.createElement({W:"div",
ww:["annotation","annotation-type-custom"]});g.DZ(a,!1);return a},USQ=function(a,I){I=!I.isCued()&&!g.Q(I,1024);
a.L.Vx(I);a.B.Vx(I)},etJ=function(a,I,U){a.D=!0;
a.U=g.lk(I,U)},Tbd=function(a,I){for(var U={},e=g.k(I.attributes),T=e.next();!T.done;T=e.next())T=T.value,U[T.name]=T.nodeValue;
for(e=0;e<I.childNodes.length;e++)if(T=I.childNodes[e],g.If(T)&&T.nodeType==1){if(U[T.tagName])var C=U[T.tagName];else if(T.tagName==="data"){T.childNodes.length>0&&(C=T.childNodes[0].nodeValue,U[T.tagName]=typeof C==="string"?C.trim():C);continue}else C=[],U[T.tagName]=C;T&&T.tagName==="TEXT"?T.childNodes.length===1&&T.childNodes[0].nodeType===3?C.push(T.childNodes[0].nodeValue):C.push(""):T&&C.push(Tbd(a,T))}return U},qEI=function(a){var I=g.O(a.player.getVideoData());
if(I.Z6){var U=a.player.X().Ux.get(I.videoId);if(U){var e={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(T,C,r){T=a.loadNumber;C=I.videoId;a.loaded&&a.loadNumber===T&&a.player.getVideoData().videoId===C&&(r=g.kk(r)&&r.responseXML?r.responseXML:null)&&CjJ(a,r)}};
g.Hz()&&(e.onFinish=rm4(a,e.onFinish));e.postParams={ic_only:"1"};HXJ(e,U);a.D=!0;g.lk(I.Z6,e)}}},HXJ=function(a,I){a.method="POST";
a.postParams=a.postParams||{};I.Pc&&(a.postParams.ic_coll=I.Pc);I.DO&&(a.postParams.ic_xml=I.DO);I.ZW&&(a.postParams.ic_track=I.ZW)},xS8=function(a){var I=new g.F({W:"div"});
g.DZ(I.element,!1);var U=new gEj(a.player,I.element,el(a));g.E(U,I);I.KO(a.L.element);U.gQ();return U},tnd=function(a,I){var U,e;
if(I=(U=I.getWatchNextResponse())==null?void 0:(e=U.cards)==null?void 0:e.cardCollectionRenderer)a.Va=!0,ZXQ(a,I),I.headerText&&a.bN&&(U=g.id(I.headerText),a.bN.setAttribute("title",U))},el=function(a){if(!a.j){var I=new Qq4(a);
g.E(a,I);var U=new g.A7(a);g.E(a,U);a.j=new mcd(I,U,a.player.X(),a.player.getVideoData(),a.logger,a.player,a.pn)}return a.j},CjJ=function(a,I){var U=!1,e=I.getElementsByTagName("annotations");
if(e&&!(e.length<1)&&(e=e[0].getAttribute("itct"))){var T=g.pF();if(T){var C=g.P$();C&&g.sT(g.ao)(void 0,T,C,[g.B$(e)])}}I=I.getElementsByTagName("annotation");for(e=0;e<I.length;e++){C=Tbd(a,I[e]);T=null;try{if(C){var r=C.id,q=/.+/;var x=typeof r==="string"&&q!=null&&r!=null&&r.match(q)?r:"";var Z=GT(C.type,nO4),t=GT(C.style,K58),n=qwo(C.data),K=n.length!==0?JSON.parse(n):{};var b=C.action;C=bHz;if(b==null)var J=null;else if(g.af(b)){q=[];for(var V=g.k(b),M=V.next();!M.done;M=V.next()){var c=C(M.value);
c&&q.push(c)}J=q}else{var W=C(b);J=W?[W]:[]}T=x&&Z?new JD8(x,Z,t,J,K):null}else T=null}catch(sS){}if(T)if(T.type==="branding"||T.type==="promotion"){C=a;q=T;var B=sWm(C),Y=null;switch(q.type){case "branding":if(C.player.X().L4)break;C.L.element.appendChild(B);Y=new so(B,el(C),q);break;case "promotion":g.w4(C.player,B,4),Y=new Qgd(B,el(C),q)}Y&&Y.gQ();if(C=Y)g.E(a,C),a.Y[T.id]=C}else if(T.type==="card"||T.type==="drawer"){a.V||(a.V=xS8(a),g.E(a,a.V));if(T.type==="card"){B=a.V;var y=(U=T)&&U.data&&
U.data.card_type;T=U.data;if(y)switch(C=T.tracking||{},C={bf:C.impression,click:C.click,close:C.close,QC:C.teaser_impression,rz:C.teaser_click},q=T.tracking_params||{},Y=null,y){case "collaborator":U={id:U.id,timestamp:T.timestamp||0,type:T.card_type,teaserText:T.teaser_text,teaserDurationMs:T.teaser_duration_ms,startMs:T.start_ms,autoOpen:T.auto_open||!1,sessionData:T.session_data||{},sponsored:T.sponsored||!1,w6:C,JB:q.card?g.B$(q.card):null,gK:q.teaser?g.B$(q.teaser):null,gx:q.icon?g.B$(q.icon):
null,channelId:T.channel_id,customMessage:T.custom_message?T.custom_message:null,profileImageUrl:T.image_url,title:T.title,metaInfo:T.meta_info,url:EF({pause_on_navigation:T.pause_on_navigation,target:T.target||"new",value:T.url}),onClickCommand:null};NQ(B,U);break;case "playlist":U={id:U.id,timestamp:T.timestamp||0,type:T.card_type,teaserText:T.teaser_text,teaserDurationMs:T.teaser_duration_ms,startMs:T.start_ms,autoOpen:T.auto_open||!1,sessionData:T.session_data||{},sponsored:T.sponsored||!1,w6:C,
JB:q.card?g.B$(q.card):null,gK:q.teaser?g.B$(q.teaser):null,gx:q.icon?g.B$(q.icon):null,UL:T.image_url,playlistVideoCount:T.playlist_video_count,customMessage:T.custom_message?T.custom_message:null,title:T.title,metaInfo:T.meta_info,url:g.O(EF({pause_on_navigation:T.pause_on_navigation,target:T.target||"new",value:T.url})),onClickCommand:null};NQ(B,U);break;case "productListing":T.signin_url&&(Y=EF({target:"current",value:T.signin_url}));y=[];for(var z=T.offers||[],m=0;m<z.length;m++)y.push(new jgQ(g.Vs(z[m].merchant),
g.Vs(z[m].price)));U={id:U.id,timestamp:T.timestamp||0,type:T.card_type,teaserText:T.teaser_text,teaserDurationMs:T.teaser_duration_ms,startMs:T.start_ms,autoOpen:T.auto_open||!1,sessionData:T.session_data||{},sponsored:T.sponsored||!1,w6:C,JB:q.card?g.B$(q.card):null,gK:q.teaser?g.B$(q.teaser):null,gx:q.icon?g.B$(q.icon):null,imageUrl:T.image_url,displayDomain:T.display_domain?T.display_domain:null,showLinkIcon:!!T.show_link_icon,q5:T.button_icon_url?T.button_icon_url:null,title:T.title,customMessage:T.custom_message?
T.custom_message:null,url:g.O(EF({pause_on_navigation:T.pause_on_navigation,target:T.target||"new",value:T.url})),ta$:Y,Wax:T.signin_title?T.signin_title:void 0,hD6:T.signin_message?T.signin_message:void 0,offers:y,onClickCommand:null};NQ(B,U);break;case "simple":U={id:U.id,timestamp:T.timestamp||0,type:T.card_type,teaserText:T.teaser_text,teaserDurationMs:T.teaser_duration_ms,startMs:T.start_ms,autoOpen:T.auto_open||!1,sessionData:T.session_data||{},sponsored:T.sponsored||!1,w6:C,JB:q.card?g.B$(q.card):
null,gK:q.teaser?g.B$(q.teaser):null,gx:q.icon?g.B$(q.icon):null,imageUrl:T.image_url,displayDomain:T.display_domain?T.display_domain:null,showLinkIcon:!!T.show_link_icon,q5:T.button_icon_url?T.button_icon_url:null,title:T.title,customMessage:T.custom_message?T.custom_message:null,url:g.O(EF({pause_on_navigation:T.pause_on_navigation,target:T.target||"new",value:T.url})),onClickCommand:null};NQ(B,U);break;case "video":U={id:U.id,timestamp:T.timestamp||0,type:T.card_type,teaserText:T.teaser_text,teaserDurationMs:T.teaser_duration_ms,
startMs:T.start_ms,autoOpen:T.auto_open||!1,sessionData:T.session_data||{},sponsored:T.sponsored||!1,w6:C,JB:q.card?g.B$(q.card):null,gK:q.teaser?g.B$(q.teaser):null,gx:q.icon?g.B$(q.icon):null,UL:T.image_url,videoDuration:T.video_duration||null,customMessage:T.custom_message?T.custom_message:null,title:T.title,metaInfo:T.meta_info,isLiveNow:!!T.is_live_now,url:g.O(EF({pause_on_navigation:T.pause_on_navigation,target:T.target||"new",value:T.url})),onClickCommand:null},NQ(B,U)}}else cDj(a.V,T);U=!0}}U&&
($a(a.player),a.iE())},ZXQ=function(a,I){var U=!1;
a.V||(a.V=xS8(a),g.E(a,a.V));for(var e=g.k(I.cards||[]),T=e.next();!T.done;T=e.next())T=T.value,T.cardRenderer&&(WUo(a.V,T.cardRenderer),U=!0);if(U){var C;(C=a.player.getVideoData())!=null&&g.yA(C)||(U=a.V,e=I.headerText?g.id(I.headerText):"",g.CM(U.Vo,e),U.D&&U.D.setAttribute("title",e),U.context.videoData.eventId&&(U.eventId=U.context.videoData.eventId),U.dw=I.trackingParams?g.B$(I.trackingParams):null,U.C=I.closeButton.infoCardIconRenderer.trackingParams?g.B$(I.closeButton.infoCardIconRenderer.trackingParams):
null,U.gx=I.icon.infoCardIconRenderer.trackingParams?g.B$(I.icon.infoCardIconRenderer.trackingParams):null,a.iE());$a(a.player)}},bXo=function(a,I,U,e,T){if(!a.player.X().L4){var C=[];
I.navigationEndpoint&&g.d(I.navigationEndpoint,g.PD)&&g.d(I.navigationEndpoint,g.PD).browseId&&C.push(new tK4("openUrl","click",new xcm("/channel/"+g.d(I.navigationEndpoint,g.PD).browseId,"new",!0,!0)));var r=I.watermark.thumbnails[0];e={channel_name:I.channelName,end_ms:I.endTimeMs,image_height:r.height,image_type:1,image_url:r.url,image_width:r.width,is_mobile:!1,session_data:{annotation_id:U,ei:T,feature:"iv",itct:I.trackingParams,src_vid:e},start_ms:I.startTimeMs};if(I.subscribeButton&&g.d(I.subscribeButton,
g.pn)){e.channel_id=g.d(I.subscribeButton,g.pn).channelId;var q;I=g.d(I.subscribeButton,g.pn);r=T=null;I.subscribed?(I.subscriberCountWithUnsubscribeText&&(T=g.id(I.subscriberCountWithUnsubscribeText)),I.subscriberCountText&&(r=g.id(I.subscriberCountText))):(I.subscriberCountText&&(T=g.id(I.subscriberCountText)),I.subscriberCountWithSubscribeText&&(r=g.id(I.subscriberCountWithSubscribeText)));var x,Z=((x=g.d((q=I.signInEndpoint)==null?void 0:q.commandMetadata,g.uL))==null?void 0:x.url)||"";q={subscribeText:g.id(I.unsubscribedButtonText),
subscribeCount:T||"",unsubscribeText:g.id(I.subscribedButtonText),unsubscribeCount:r||"",enabled:I.enabled||!1,classic:!1,subscribed:I.subscribed||!1,feature:"iv",signInUrl:Z};e.standalone_subscribe_button_data=q}C=new JD8(U,"branding","branding",C,e);q=sWm(a);a.L.element.appendChild(q);C=new so(q,el(a),C);C.gQ();g.E(C,C);a.Y[U]=C}},rm4=function(a,I){return function(){var U=g.OS.apply(0,arguments);
a.Ox()||a.gw.push(g.Fe.l7(function(){I.apply(null,g.A(U))}))}},JmI=function(a){return a==="annotation-editor"||a==="live-dashboard"};
g.Y8.prototype.d4=g.Cc(45,function(a,I){var U=g.cC(this.Ky());U&&U.d4(a,I)});
var Lx={},gT=null;g.qd(WZ,g.bl);g.H=WZ.prototype;g.H.getDuration=function(){return this.duration};
g.H.play=function(a){if(a||this.V==0)this.progress=0,this.coords=this.L;else if(this.isPlaying())return!1;cZ(this);this.startTime=a=g.rd();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.J=this.startTime;this.progress||this.qs();this.Ft("play");this.isPaused()&&this.Ft("resume");this.V=1;var I=g.Uj(this);I in Lx||(Lx[I]=this);yqD();Eez(this,a);return!0};
g.H.stop=function(a){cZ(this);this.V=0;a&&(this.progress=1);d_4(this,this.progress);this.onStop();this.yT()};
g.H.pause=function(){this.isPlaying()&&(cZ(this),this.V=-1,this.Ft("pause"))};
g.H.Bs=function(){this.V==0||this.stop(!1);this.Ft("destroy");WZ.tT.Bs.call(this)};
g.H.destroy=function(){this.dispose()};
g.H.zU=function(){this.Ft("animate")};
g.H.Ft=function(a){this.dispatchEvent(new R9o(a,this))};
g.qd(R9o,g.aI);g.qd(lB,WZ);lB.prototype.B=function(){};
lB.prototype.zU=function(){this.B();lB.tT.zU.call(this)};
lB.prototype.yT=function(){this.B();lB.tT.yT.call(this)};
lB.prototype.qs=function(){this.B();lB.tT.qs.call(this)};
g.qd(w5z,lB);w5z.prototype.B=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.u(Qq4,g.S);g.H=Qq4.prototype;g.H.listen=function(a,I,U,e){U=(0,g.e8)(U,e||this.L);a=g.Wk(a,I,U);this.V.push(a);return a};
g.H.MC=function(a,I,U,e){U=(0,g.e8)(U,e||this.L);a=SWQ(a,I,U);this.V.push(a);return a};
g.H.YY=function(a){g.lR(a);g.Az(this.V,a)};
g.H.removeAll=function(){g.lR(this.V);this.V.length=0};
g.H.Bs=function(){this.removeAll();g.S.prototype.Bs.call(this)};g.u(NxI,g.nu);g.H=NxI.prototype;g.H.load=function(){g.nu.prototype.load.call(this);if(!PZ(this)){var a=g.t$s(this.player.getVideoData());a?(a=h9J(a,oeo(this)),px(this,a,!1)):D_j(this)}};
g.H.unload=function(){px(this,null);this.J&&(this.J.abort(),this.J=null);g.nu.prototype.unload.call(this)};
g.H.BB=function(a,I){return PZ(this)?a==="loadCustomEndscreenRenderer"?(a=h9J(I,"new"),px(this,a),!0):null:null};
g.H.getOptions=function(){return PZ(this)?["loadCustomEndscreenRenderer"]:[]};
g.H.jj=function(){if(this.endscreen&&this.endscreen.elements){var a=this.player.getVideoContentRect();if(a&&a.width!==0&&a.height!==0){var I=this.player.getPlayerSize();if(I&&I.width!==0&&I.height!==0){var U=a.width/a.height;var e=0;for(var T=-1,C=0;C<ubz.length;C++){var r=Math.abs(I.width-ubz[C]);if(T===-1||e>=r)T=C,e=r}e=knd[T];this.B&&g.Gr(this.B.element,"outline-width",Math.max(I.width,I.height)+"px");for(I=0;I<this.endscreen.elements.length;++I)if(C=this.endscreen.elements[I].id,T=this.L[C],
r=this.Y[C],T&&r){var q=r.width*U/r.aspectRatio,x=Math.round(r.width*a.width);C=Math.round(q*a.height);var Z=a.left+Math.round(r.left*a.width),t=a.top+Math.round(r.top*a.height);g.N1(T.element,x,C);g.mL(T.element,Z,t);g.nC(T.element,Vnd);x>256||C>256?g.x5(T.element,"ytp-ce-large-round"):x>96||C>96?g.x5(T.element,"ytp-ce-medium-round"):g.x5(T.element,"ytp-ce-small-round");g.nC(T.element,Amo);x=r.left+r.width/2;r=r.top+q/2;g.x5(T.element,x<=.5&&r<=.5?"ytp-ce-top-left-quad":x>.5&&r<=.5?"ytp-ce-top-right-quad":
x<=.5&&r>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.nC(T.element,knd);g.x5(T.element,e);(T=g.mO(document,"div","ytp-ce-expanding-overlay-body",T.element)[0])&&g.Gr(T,"height",C+"px")}}}}};
g.H.onCueRangeEnter=function(a){if(this.endscreen)if(a.getId()==="ytp-ce-in-endscreen")SV(this,this.endscreen.impressionUrls),(a=g.pF())&&this.endscreen.visualElement&&g.xp(a,this.endscreen.visualElement),this.V&&(g.x5(this.V,"ytp-ce-element-show"),this.V.removeAttribute("aria-hidden"),this.player.bW()?g.x5(this.V,"ytp-ce-hide-button-lower"):g.ta(this.V,"ytp-ce-hide-button-lower"));else{a=a.getId().substring(15);var I=this.L[a],U=this.Y[a];g.x5(I.element,"ytp-ce-element-show");I.element.removeAttribute("aria-hidden");
I=this.player.getRootNode();g.x5(I,"ytp-ce-shown");SV(this,U.impressionUrls);(I=g.pF())&&g.xp(I,U.visualElement);this.player.X().C&&this.player.I$("endscreenelementshown",a)}};
g.H.onCueRangeExit=function(a){if(a.getId()==="ytp-ce-in-endscreen")this.V&&(g.ta(this.V,"ytp-ce-element-show"),this.V.setAttribute("aria-hidden","true"));else{a=a.getId().substring(15);var I=this.L[a];g.ta(I.element,"ytp-ce-element-show");I.element.setAttribute("aria-hidden","true");I=this.player.getRootNode();g.ta(I,"ytp-ce-shown");this.player.X().C&&this.player.I$("endscreenelementhidden",a)}};
g.H.lUw=function(a){var I=this;a.target===window&&(new g.Dy(function(){for(var U=g.k(Object.values(I.L)),e=U.next();!e.done;e=U.next())g.nC(e.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.H.Vx=function(a){for(var I=g.k(Object.values(this.L)),U=I.next();!U.done;U=I.next())U=U.value,a?U.element.setAttribute("hidden",""):U.element.removeAttribute("hidden")};
g.H.dVK=function(a){this.V&&this.player.getRootNode().removeChild(this.V);a&&(g.x5(a,"ytp-ce-hide-button-container"),this.V=a,g.w4(this.player,this.V,4))};
var ubz=[346,426,470,506,570,640,853,1280,1920],knd="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),Amo=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],Vnd=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var ZHm={b$$:"current",cvX:"new"};var nEj={CLOSE:"close",Lr6:"openUrl",SUBSCRIBE:"subscribe"},KUf={sn$:"click",CLOSE:"close",Uxa:"hidden",I$x:"rollOut",mo$:"rollOver",g0X:"shown"};JD8.prototype.MJ=function(){var a=uhQ(this,function(I){return I.type==="openUrl"&&I.url!=null});
return a?a.url:null};
var K58={hux:"anchored",iy:"branding",CHANNEL:"channel",w1K:"cta",Nq$:"highlightText",h5a:"label",PLAYLIST:"playlist",POPUP:"popup",WS$:"speech",SUBSCRIBE:"subscribe",v06:"title",VIDEO:"video",BJO:"website"},nO4={iy:"branding",SMK:"card",QnX:"drawer",vnm:"highlight",TU8:"marker",Cta:"promotion",TEXT:"text",qUg:"widget"};g.u(FI,g.S);g.H=FI.prototype;g.H.addCueRange=function(a,I,U,e,T){a=new g.qA(a,I,{id:U,namespace:"annotations_module"});e&&this.fO.set(a,e);T&&this.Z6.set(a,T);this.context.K.xw([a],1)};
g.H.gQ=function(){this.context.L.subscribe("resize",this.rG,this)};
g.H.oF=function(){return this.element};
g.H.p9=function(a,I,U,e,T,C){if(this.i5)return!1;C&&(C.stopPropagation(),C.preventDefault());this.navigate(a,U,e,T);return!1};
g.H.show=function(){};
g.H.hide=function(){};
g.H.destroy=function(){g.ec(this.oF())};
g.H.rG=function(){};
g.H.navigate=function(a,I,U,e){var T=this,C=y6(a);if(C){var r=iHz(C,a.target),q=function(){a.V&&T.context.K.pauseVideo();var x=T.context.videoData.uc||!1,Z=g.HI(C||"");x&&Z&&(Z.v||Z.list)?T.context.K.pT(Z.v,I,Z.list,!1):g.o6(C||"",r==="current"?"_top":void 0,I)};
r==="new"&&(q(),q=null);Uo(this.context.logger,U,q,e);$cI(C)||(U=g.pF(),e=I.itct,U&&e&&g.nb(U,g.B$(e)))}};
g.H.Bs=function(){this.fO.clear();this.Z6.clear();g.S.prototype.Bs.call(this)};
g.H.createElement=function(a){a=new g.F(a);g.E(this,a);return a.element};g.u(gEj,FI);g.H=gEj.prototype;g.H.xn=function(){this.gw&&NQ(this,this.gw)};
g.H.isAvailable=function(){var a;if(a=!!this.cards.length)(a=this.K.getRootNode())?(a=g.oD(a),a=173<a.width&&173<a.height):a=!1;return a};
g.H.rG=function(){var a=this.isAvailable();g.DZ(this.oF(),a);g.KC(this.context.K.getRootNode(),g.e6.IV_DRAWER_ENABLED,a);$a(this.K)};
g.H.destroy=function(){this.K.d4(!1);try{this.K.getRootNode().removeChild(this.J)}catch(a){}g.tk(this.Va);g.Y3(this.CO);this.a$&&this.a$.dispose();this.U&&this.U.dispose();FI.prototype.destroy.call(this)};
g.H.bT=function(){var a=this;this.context.V.listen(g.Qs("iv-drawer-close-button",this.J),"click",this.kH,this);this.context.V.listen(this.L,"touchend",function(){a.tU.start()});
this.context.V.listen(this.L,"scroll",this.r8,this);this.context.L.subscribe("onHideControls",function(){a.zt=!0});
this.context.L.subscribe("onShowControls",function(){a.zt=!1});
this.context.L.subscribe("onVideoAreaChange",function(){a.zt=g.qI(a.K.getRootNode(),"ytp-autohide")});
this.Va.push(g.ZM("iv-button-shown",this.bys,this));this.Va.push(g.ZM("iv-button-hidden",this.w8$,this));ptJ(this)};
g.H.findLastIndex=function(a){if(this.cards.length===0)return 0;var I=g.uI(this.cards,function(U){return a.E1.startMs>U.E1.startMs||a.E1.startMs===U.E1.startMs&&a.E1.timestamp>=U.E1.timestamp?!0:!1});
return I===-1?0:I+1};
g.H.kH=function(){if(this.B){Uo(this.context.logger,az(this).w6.close);var a=g.pF();a&&this.C&&g.nb(a,this.C);hH(this)}};
g.H.r8=function(){g.KC(this.J,"iv-drawer-scrolled",this.L.scrollTop>0)};
g.H.bys=function(){var a=g.pF(),I=az(this);I=I?I.gx:this.gx;a&&I&&g.Zm(a,[I])};
g.H.w8$=function(){var a=g.pF(),I=az(this);I=I?I.gx:this.gx;a&&I&&g.t_(a,[I])};
g.H.HN=function(){var a=az(this);Uo(this.context.logger,a.w6.QC);var I=g.pF();if(I&&a)if(this.K.N("web_infocards_teaser_show_logging_fix")){var U=[];a.gK&&U.push(a.gK);a.gx&&U.push(a.gx);U.length>0&&g.Zm(I,U)}else g.Zm(I,[a.gK,a.gx])};
g.H.zGs=function(){var a=g.pF(),I=az(this);a&&I&&g.t_(a,[I.gK])};
g.H.Gz=function(a){var I=az(this),U=g.pF();this.V?a?(a=this.context.logger,Uo(a,I.w6.rz),a.K.sendVideoStatsEngageEvent(4,void 0),U&&I.gK&&g.nb(U,I.gK)):(a=this.context.logger,Uo(a,I.w6.rz),a.K.sendVideoStatsEngageEvent(4,void 0),U&&I.gx&&g.nb(U,I.gx)):(a=this.context.logger,Uo(a,I.w6.rz),a.K.sendVideoStatsEngageEvent(4,void 0),U&&this.gx&&g.nb(U,this.gx))};g.u(Iz,FI);Iz.prototype.gQ=function(){FI.prototype.gQ.call(this);EEo(this)};
Iz.prototype.show=function(){FI.prototype.show.call(this);var a=g.pF(),I=this.annotation.data;a&&I&&(I=I.session_data)&&g.Zm(a,[g.B$(I.itct)])};
Iz.prototype.hide=function(){FI.prototype.hide.call(this);var a=g.pF(),I=this.annotation.data;a&&I&&(I=I.session_data)&&g.t_(a,[g.B$(I.itct)])};g.u(so,Iz);
so.prototype.show=function(){if(!this.isActive){Iz.prototype.show.call(this);if(!this.C){g.x5(this.oF(),"iv-branding");var a=this.annotation.data;this.L=this.createElement({W:"img",ww:["branding-img","iv-click-target"],S:{"aria-label":"\u983b\u9053\u6d6e\u6c34\u5370",src:a.image_url,width:a.image_width,height:a.image_height}});g.DZ(this.L,!1);var I=this.createElement({W:"button",ww:["branding-img-container","ytp-button"]});I.appendChild(this.L);this.oF().appendChild(I);var U=this.annotation.MJ();U&&
mT(this,I,U,this.annotation.id,a.session_data);this.context.K.N("disable_branding_context")||FUG(this,a);this.C=!0}g.DZ(this.oF(),!0);this.isActive=!0;if(this.L){try{dco(this,this.L)}catch(e){}g.x5(this.context.K.getRootNode(),"ytp-branding-shown");this.context.K.getRootNode().style.setProperty("--branding-image-width",this.L.getAttribute("width")+"px")}}};
so.prototype.hide=function(){this.isActive&&(Iz.prototype.hide.call(this),g.DZ(this.oF(),!1),this.isActive=!1,g.ta(this.context.K.getRootNode(),"ytp-branding-shown"))};
so.prototype.destroy=function(){this.V&&(this.V.dispose(),this.V=null);g.ta(this.context.K.getRootNode(),"ytp-branding-shown");Iz.prototype.destroy.call(this)};g.u(Qgd,Iz);g.H=Qgd.prototype;g.H.show=function(){this.isActive||(Iz.prototype.show.call(this),this.j||(hxj(this),this.j=!0),g.DZ(this.oF(),!0),g.dJ(function(){g.ta(this.oF(),"iv-promo-inactive")},100,this),this.oF().removeAttribute("aria-hidden"),this.isActive=!0,vEQ(this),NpG(this),oEz(this,this.Y))};
g.H.hide=function(){this.isActive&&(g.x5(this.oF(),"iv-promo-inactive"),this.isActive=!1,this.oF().setAttribute("aria-hidden","true"))};
g.H.p9=function(a,I,U,e,T,C){return this.isCollapsed?!1:Iz.prototype.p9.call(this,a,I,U,e,T,C)};
g.H.oaO=function(a){this.D=!0;zxz(this,500,a)};
g.H.dnK=function(){this.D=!1;DcD(this)};
g.H.emK=function(a){a.stopPropagation();this.hide()};
g.H.hmK=function(a){a.stopPropagation();vEQ(this);this.isCollapsed=!0;g.x5(this.oF(),"iv-promo-collapsed-no-delay");this.U.start()};
g.H.destroy=function(){this.U.dispose();Iz.prototype.destroy.call(this)};g.u(IRD,g.nu);g.H=IRD.prototype;g.H.BB=function(a,I){if(!JmI(this.player.X().playerStyle))return null;switch(a){case "loadCustomAnnotationsXml":return(a=g.Q0(I))&&CjJ(this,a),!0;case "removeCustomAnnotationById":return I&&this.V&&(Bpo(this.V,I),$a(this.player)),!0}return null};
g.H.getOptions=function(){return JmI(this.player.X().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.H.zZ=function(){var a=this.player.X(),I=g.O(this.player.getVideoData()),U=a.annotationsLoadPolicy||I.annotationsLoadPolicy;return g.TJ(I)||this.player.isMutedByEmbedsMutedAutoplay()?!1:U===1&&!I.Xo||a.Ux.get(I.videoId)||g.Ec(I)||g.dN(I)?!0:!1};
g.H.iE=function(){if(this.B){var a=this.player.j8().getVideoContentRect(!0);g.N1(this.B.element,a.width,a.height);g.mL(this.B.element,a.left,a.top)}if(this.V){var I=this.player.lZ();a=this.V;I=I.width;g.KC(a.J,"iv-drawer-small",I<=426);g.KC(a.J,"iv-drawer-big",I>=1280)}};
g.H.QU=function(a){USQ(this,a.state);g.Q(a.state,2)&&(this.bW()&&this.BH()&&this.player.getPresentingPlayerType()!==2&&this.YE(!1),this.d4(!1))};
g.H.load=function(){function a(r){var q=I.loadNumber;I.U=null;I.loaded&&I.loadNumber===q&&I.player.getVideoData().videoId===e&&(r=g.kk(r)&&r.responseXML?r.responseXML:null)&&(CjJ(I,r),g.x5(I.player.getRootNode(),"iv-module-loaded"))}
var I=this;g.nu.prototype.load.call(this);USQ(this,this.player.getPlayerStateObject());this.loadNumber++;var U=g.O(this.player.getVideoData()),e=U.videoId;g.Hz()&&(a=rm4(this,a));var T={format:"XML",onFinish:a,onError:function(){I.U=null},
urlParams:{}};U.isPharma&&(T.urlParams.pharma="1");T.method="POST";T.withCredentials=!0;var C=this.player.X().Ux.get(e);C&&HXJ(T,C);C=C&&(C.DO||C.Pc);if(!U.Ba||C)U.Z6?etJ(this,U.Z6,T):(this.C=function(){if(!I.D)I.onVideoDataChange(T);var r=g.O(I.player.getVideoData());(r==null?0:g.yA(r))&&!I.Va&&tnd(I,r)},this.player.addEventListener("videodatachange",this.C));
g.w4(this.player,this.B.element,4);this.iE();(C=g.Ec(U))&&ZXQ(this,C);(C=g.dN(U))&&C.featuredChannel&&bXo(this,C.featuredChannel,C.annotationId||"branding",U.videoId||null,U.eventId||null);this.bN=g.Qs("ytp-cards-button",this.player.getRootNode());g.yA(U)&&tnd(this,U)};
g.H.onVideoDataChange=function(a){var I=g.O(this.player.getVideoData());I.Z6&&etJ(this,I.Z6,a)};
g.H.unload=function(){this.player.HE("annotations_module");for(var a=g.k(Object.keys(this.Y)),I=a.next();!I.done;I=a.next())this.Y[I.value].destroy();this.j=null;this.V&&(this.V.destroy(),this.V=null,$a(this.player));this.D=!1;this.U&&(this.U.abort(),this.U=null);this.Va=!1;this.Y={};this.L.hide();g.nu.prototype.unload.call(this);this.B.detach();this.C&&(this.player.removeEventListener("videodatachange",this.C),this.C=null)};
g.H.Sv=function(a){a===this.player.getVideoData().videoId&&(this.loaded?qEI(this):this.load())};
g.H.bW=function(){var a;return((a=this.V)==null?void 0:a.isAvailable())||this.Va};
g.H.BH=function(){return!!this.V&&this.V.B};
g.H.YE=function(a,I,U){I=I===void 0?!1:I;this.bW();this.V&&(a?U?zT(this.V,U,I):zT(this.V,"YOUTUBE_DRAWER_AUTO_OPEN",I):hH(this.V))};
g.H.d4=function(a,I){this.player.publish(a?"cardsteasershow":"cardsteaserhide",I)};
g.H.Bs=function(){this.player.X().Ux.unsubscribe("vast_info_card_add",this.Sv,this);g.ta(this.player.getRootNode(),g.e6.IV_DRAWER_OPEN);for(var a=this.gw,I=g.Fe,U=0,e=a.length;U<e;U++)I.Um(a[U]);this.gw.length=0;g.nu.prototype.Bs.call(this)};
g.H.createElement=function(a){a=new g.F(a);g.E(this,a);return a.element};g.th("annotations_module",IRD);g.th("creatorendscreen",NxI);})(_yt_player);
