(function(g){var window=this;'use strict';var yez=function(a){a.publish("autonavvisibility")},Ezz=function(a,I){a.I$("onAutonavCoundownStarted",I)},dfJ=function(a){var I,U,e;
return a==null?void 0:(I=a.playerOverlays)==null?void 0:(U=I.playerOverlayRenderer)==null?void 0:(e=U.autoplay)==null?void 0:e.playerOverlayAutoplayRenderer},It=function(a,I,U){g.KC(a.element,"ytp-suggestion-set",!!I.videoId);
var e=I.playlistId;U=I.Ub(U?U:"mqdefault.jpg");var T=null,C=null;I instanceof g.Px&&(I.lengthText?(T=I.lengthText||null,C=I.Hl||null):I.lengthSeconds&&(T=g.XT(I.lengthSeconds),C=g.XT(I.lengthSeconds,!0)));var r=!!e;e=r&&g.Bx(e).type==="RD";var q=I instanceof g.Px?I.isLivePlayback:null,x=I instanceof g.Px?I.isUpcoming:null,Z=I.author,t=I.shortViewCount,n=I.publishedTimeText,K=[],b=[];Z&&K.push(Z);t&&(K.push(t),b.push(t));n&&b.push(n);U={title:I.title,author:Z,author_and_views:K.join(" \u2022 "),aria_label:I.ariaLabel||
g.ji("\u89c0\u770b\u300c$TITLE\u300d",{TITLE:I.title}),duration:T,timestamp:C,url:I.ys(),is_live:q,is_upcoming:x,is_list:r,is_mix:e,background:U?"background-image: url("+U+")":"",views_and_publish_time:b.join(" \u2022 "),autoplayAlternativeHeader:I.My};I instanceof g.Xk&&(U.playlist_length=I.playlistLength);a.update(U)},sA=function(a){var I=a.X(),U=I.J;
g.F.call(this,{W:"a",T:"ytp-autonav-suggestion-card",S:{href:"{{url}}",target:U?I.j:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},Z:[{W:"div",ww:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],S:{style:"{{background}}"},Z:[{W:"div",S:{"aria-label":"{{timestamp}}"},ww:["ytp-autonav-timestamp"],AU:"{{duration}}"},{W:"div",ww:["ytp-autonav-live-stamp"],AU:"\u76f4\u64ad"},
{W:"div",ww:["ytp-autonav-upcoming-stamp"],AU:"\u5373\u5c07\u64ad\u51fa"},{W:"div",T:"ytp-autonav-list-overlay",Z:[{W:"div",T:"ytp-autonav-mix-text",AU:"\u5408\u8f2f"},{W:"div",T:"ytp-autonav-mix-icon"}]}]},{W:"div",ww:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],AU:"{{title}}"},{W:"div",ww:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],AU:"{{author}}"},{W:"div",ww:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],AU:"{{views_and_publish_time}}"}]});
this.K=a;this.suggestion=null;this.V=U;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},UA=function(a,I){I=I===void 0?!1:I;
g.F.call(this,{W:"div",T:"ytp-autonav-endscreen-countdown-overlay"});var U=this;this.C=I;this.cancelCommand=this.Y=void 0;this.B=0;this.container=new g.F({W:"div",T:"ytp-autonav-endscreen-countdown-container"});g.E(this,this.container);this.container.KO(this.element);I=a.X();var e=I.J;this.K=a;this.suggestion=null;this.onVideoDataChange("newdata",g.O(this.K.getVideoData()));this.G(a,"videodatachange",this.onVideoDataChange);this.V=new g.F({W:"div",T:"ytp-autonav-endscreen-upnext-container",S:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},Z:[{W:"div",T:"ytp-autonav-endscreen-upnext-header"},{W:"div",T:"ytp-autonav-endscreen-upnext-alternative-header",AU:"{{autoplayAlternativeHeader}}"},{W:"a",T:"ytp-autonav-endscreen-link-container",S:{href:"{{url}}",target:e?I.j:""},Z:[{W:"div",T:"ytp-autonav-endscreen-upnext-thumbnail",S:{style:"{{background}}"},Z:[{W:"div",S:{"aria-label":"{{timestamp}}"},ww:["ytp-autonav-timestamp"],
AU:"{{duration}}"},{W:"div",ww:["ytp-autonav-live-stamp"],AU:"\u76f4\u64ad"},{W:"div",ww:["ytp-autonav-upcoming-stamp"],AU:"\u5373\u5c07\u64ad\u51fa"}]},{W:"div",T:"ytp-autonav-endscreen-video-info",Z:[{W:"div",T:"ytp-autonav-endscreen-premium-badge"},{W:"div",T:"ytp-autonav-endscreen-upnext-title",AU:"{{title}}"},{W:"div",T:"ytp-autonav-endscreen-upnext-author",AU:"{{author}}"},{W:"div",T:"ytp-autonav-view-and-date",AU:"{{views_and_publish_time}}"},{W:"div",T:"ytp-autonav-author-and-view",AU:"{{author_and_views}}"}]}]}]});
g.E(this,this.V);this.V.KO(this.container.element);e||this.G(this.V.Ws("ytp-autonav-endscreen-link-container"),"click",this.CA);this.K.createClientVe(this.container.element,this,115127);this.K.createClientVe(this.V.Ws("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.F({W:"div",T:"ytp-autonav-overlay"});g.E(this,this.overlay);this.overlay.KO(this.container.element);this.L=new g.F({W:"div",T:"ytp-autonav-endscreen-button-container"});g.E(this,this.L);this.L.KO(this.container.element);
this.cancelButton=new g.F({W:"button",ww:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",I.N("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],S:{"aria-label":"\u53d6\u6d88\u81ea\u52d5\u64ad\u653e"},AU:"\u53d6\u6d88"});g.E(this,this.cancelButton);this.cancelButton.KO(this.L.element);this.cancelButton.listen("click",this.Zs,this);this.K.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.F({W:"a",ww:["ytp-autonav-endscreen-upnext-button",
"ytp-autonav-endscreen-upnext-play-button",I.N("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],S:{href:"{{url}}",role:"button","aria-label":"\u64ad\u653e\u4e0b\u4e00\u90e8\u5f71\u7247"},AU:"\u7acb\u5373\u64ad\u653e"});g.E(this,this.playButton);this.playButton.KO(this.L.element);this.playButton.listen("click",this.CA,this);this.K.createServerVe(this.playButton.element,this.playButton,!0);(I=this.K.getVideoData())&&RPz(this,I);this.J=new g.Dy(function(){wfJ(U)},500);
g.E(this,this.J);this.Nd();this.G(a,"autonavvisibility",this.Nd);this.K.N("web_autonav_color_transition")&&(this.G(a,"autonavchange",this.PN),this.G(a,"onAutonavCoundownStarted",this.Aha))},ey=function(a){var I=a.K.lZ(!0,a.K.isFullscreen());
g.KC(a.container.element,"ytp-autonav-endscreen-small-mode",a.JS(I));g.KC(a.container.element,"ytp-autonav-endscreen-is-premium",!!a.suggestion&&!!a.suggestion.NV6);g.KC(a.K.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!a.K.Go());g.KC(a.K.getRootNode(),"countdown-running",a.P1());g.KC(a.container.element,"ytp-player-content",a.K.Go());g.Gr(a.overlay.element,{width:I.width+"px"});if(!a.P1()){a.K.Go()?FB8(a,Math.round(mfz(a)/1E3)):FB8(a);I=!!a.suggestion&&!!a.suggestion.My;var U=a.K.Go()||
!I;g.KC(a.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!U&&I);g.KC(a.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",U&&!I);a.L.Vx(a.K.Go());g.KC(a.element,"ytp-enable-w2w-color-transitions",QR4(a))}},wfJ=function(a){var I=mfz(a),U=Math,e=U.min;
var T=a.B?Date.now()-a.B:0;U=e.call(U,T,I);FB8(a,Math.ceil((I-U)/1E3));I-U<=500&&a.P1()?a.select(!0):a.P1()&&a.J.start()},mfz=function(a){if(a.K.isFullscreen()){var I;
a=(I=a.K.getVideoData())==null?void 0:I.Rw;return a===-1||a===void 0?8E3:a}return a.K.xq()>=0?a.K.xq():g.ki(a.K.X().experiments,"autoplay_time")||1E4},RPz=function(a,I){I=I.getWatchNextResponse();
var U,e;I=(U=dfJ(I))==null?void 0:(e=U.nextButton)==null?void 0:e.buttonRenderer;a.Y=I==null?void 0:I.navigationEndpoint;U=I==null?void 0:I.trackingParams;a.playButton&&U&&a.K.setTrackingParams(a.playButton.element,U)},QR4=function(a){var I;
return!((I=a.K.getVideoData())==null||!I.watchToWatchTransitionRenderer)},FB8=function(a,I){I=I===void 0?-1:I;
a=a.V.Ws("ytp-autonav-endscreen-upnext-header");g.sJ(a);if(I>=0){I=String(I);var U="\u4e0b\u4e00\u90e8\u5f71\u7247\u5c07\u5728 $SECONDS \u79d2\u5f8c\u64ad\u653e".match(RegExp("\\$SECONDS","gi"))[0],e="\u4e0b\u4e00\u90e8\u5f71\u7247\u5c07\u5728 $SECONDS \u79d2\u5f8c\u64ad\u653e".indexOf(U);if(e>=0){a.appendChild(g.aA("\u4e0b\u4e00\u90e8\u5f71\u7247\u5c07\u5728 $SECONDS \u79d2\u5f8c\u64ad\u653e".slice(0,e)));var T=g.vA("span");g.H1(T,"ytp-autonav-endscreen-upnext-header-countdown-number");g.CM(T,I);
a.appendChild(T);a.appendChild(g.aA("\u4e0b\u4e00\u90e8\u5f71\u7247\u5c07\u5728 $SECONDS \u79d2\u5f8c\u64ad\u653e".slice(e+U.length)));return}}g.CM(a,"\u5373\u5c07\u64ad\u653e")},Tz=function(a,I){g.F.call(this,{W:"div",
ww:["html5-endscreen","ytp-player-content",I||"base-endscreen"]});this.created=!1;this.player=a},CR=function(a){g.F.call(this,{W:"div",
ww:["ytp-upnext","ytp-player-content"],S:{"aria-label":"{{aria_label}}"},Z:[{W:"div",T:"ytp-cued-thumbnail-overlay-image",S:{style:"{{background}}"}},{W:"span",T:"ytp-upnext-top",Z:[{W:"span",T:"ytp-upnext-header",AU:"\u5373\u5c07\u64ad\u653e"},{W:"span",T:"ytp-upnext-title",AU:"{{title}}"},{W:"span",T:"ytp-upnext-author",AU:"{{author}}"}]},{W:"a",T:"ytp-upnext-autoplay-icon",S:{role:"button",href:"{{url}}","aria-label":"\u64ad\u653e\u4e0b\u4e00\u90e8\u5f71\u7247"},Z:[{W:"svg",S:{height:"100%",version:"1.1",
viewBox:"0 0 72 72",width:"100%"},Z:[{W:"circle",T:"ytp-svg-autoplay-circle",S:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{W:"circle",T:"ytp-svg-autoplay-ring",S:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{W:"path",T:"ytp-svg-fill",S:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{W:"span",T:"ytp-upnext-bottom",Z:[{W:"span",T:"ytp-upnext-cancel"},
{W:"span",T:"ytp-upnext-paused",AU:"\u5df2\u66ab\u505c\u81ea\u52d5\u64ad\u653e\u529f\u80fd"}]}]});this.api=a;this.cancelButton=null;this.Y=this.Ws("ytp-svg-autoplay-ring");this.B=this.notification=this.V=this.suggestion=null;this.J=new g.Dy(this.FU,5E3,this);this.L=0;var I=this.Ws("ytp-upnext-cancel");this.cancelButton=new g.F({W:"button",ww:["ytp-upnext-cancel-button","ytp-button"],S:{tabindex:"0","aria-label":"\u53d6\u6d88\u81ea\u52d5\u64ad\u653e"},AU:"\u53d6\u6d88"});g.E(this,this.cancelButton);
this.cancelButton.listen("click",this.SR,this);this.cancelButton.KO(I);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,this,115129);g.E(this,this.J);this.api.createClientVe(this.element,this,18788);I=this.Ws("ytp-upnext-autoplay-icon");this.G(I,"click",this.Fa);this.api.createClientVe(I,this,115130);this.Md();this.G(a,"autonavvisibility",this.Md);this.G(a,"mdxnowautoplaying",this.lNg);this.G(a,"mdxautoplaycanceled",this.xDs);g.KC(this.element,"ytp-upnext-mobile",this.api.X().L)},
zP8=function(a,I){if(I)return I;
if(a.api.isFullscreen()){var U;a=(U=a.api.getVideoData())==null?void 0:U.Rw;return a===-1||a===void 0?8E3:a}return a.api.xq()>=0?a.api.xq():g.ki(a.api.X().experiments,"autoplay_time")||1E4},hPG=function(a,I){I=zP8(a,I);
var U=Math,e=U.min;var T=(0,g.w)()-a.L;U=e.call(U,T,I);I=I===0?1:Math.min(U/I,1);a.Y.setAttribute("stroke-dashoffset",""+-211*(I+1));I>=1&&a.P1()&&a.api.getPresentingPlayerType()!==3?a.select(!0):a.P1()&&a.V.start()},r_=function(a){Tz.call(this,a,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.F({W:"div",T:"ytp-suggestion-panel",Z:[{W:"div",ww:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],AU:"\u66f4\u591a\u5f71\u7247"}]});this.D=new g.F({W:"div",T:"ytp-suggestions-container"});this.videos=[];this.B=null;this.Y=this.C=!1;this.L=new UA(this.player);g.E(this,this.L);this.L.KO(this.element);a.getVideoData().dA?this.V=this.L:(this.V=new CR(a),g.w4(this.player,this.V.element,4),g.E(this,this.V));this.overlay=new g.F({W:"div",
T:"ytp-autonav-overlay-cancelled-state"});g.E(this,this.overlay);this.overlay.KO(this.element);this.J=new g.Ru(this);g.E(this,this.J);g.E(this,this.table);this.table.KO(this.element);this.table.show();g.E(this,this.D);this.D.KO(this.table.element);this.hide()},Hp=function(a){var I=a.Go();
I!==a.Y&&(a.Y=I,yez(a.player),a.Y?(a.L!==a.V&&a.L.hide(),a.table.hide()):(a.L!==a.V&&a.L.show(),a.table.show()))},qs=function(a,I){g.F.call(this,{W:"button",
ww:["ytp-watch-on-youtube-button","ytp-button"],AU:"{{content}}"});this.K=a;this.buttonType=this.buttonType=I;this.e$();this.buttonType===2&&g.x5(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.e$);this.Vx(!0)},xA=function(a,I){Tz.call(this,a,"embeds-lite-endscreen");
this.K=a;this.V=I;this.K.createClientVe(this.element,this,156943);this.watchButton=new qs(a,2);g.E(this,this.watchButton);this.watchButton.KO(this.element);this.hide()},Z8=function(a){var I=a.X(),U=g.GK||g.pg?{style:"will-change: opacity"}:void 0,e=I.J,T=["ytp-modern-videowall-still"];
I.L&&T.push("ytp-videowall-show-text");g.F.call(this,{W:"a",ww:T,S:{href:"{{url}}",target:e?I.j:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},Z:[{W:"div",T:"ytp-modern-videowall-still-image",S:{style:"{{background}}"},Z:[{W:"span",T:"ytp-modern-videowall-still-info-duration",AU:"{{duration}}"}]},{W:"span",T:"ytp-modern-videowall-still-info",S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-modern-videowall-still-info-bg",Z:[{W:"span",
T:"ytp-modern-videowall-still-info-content",S:U,Z:[{W:"span",T:"ytp-modern-videowall-still-info-title",AU:"{{title}}"},{W:"span",T:"ytp-modern-videowall-still-info-author",AU:"{{author_and_views}}"},{W:"span",T:"ytp-modern-videowall-still-info-live",AU:"\u76f4\u64ad"}]}]}]},{W:"span",ww:["ytp-modern-videowall-still-listlabel-regular","ytp-modern-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-modern-videowall-still-listlabel-icon"},"\u64ad\u653e\u6e05\u55ae",{W:"span",T:"ytp-modern-videowall-still-listlabel-length",
Z:[" (",{W:"span",AU:"{{playlist_length}}"},")"]}]},{W:"span",ww:["ytp-modern-videowall-still-listlabel-mix","ytp-modern-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-modern-videowall-still-listlabel-mix-icon"},"\u5408\u8f2f",{W:"span",T:"ytp-modern-videowall-still-listlabel-length",AU:" (50+)"}]}]});this.suggestion=null;this.L=e;this.api=a;this.V=new g.Ru(this);g.E(this,this.V);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.V.G(a,"videodatachange",
this.onVideoDataChange);a.createServerVe(this.element,this);this.onVideoDataChange()},NeJ=function(a){Tz.call(this,a,"videowall-endscreen");
var I=this;this.K=a;this.stills=[];this.B=this.videoData=null;this.J=this.C=!1;this.D=null;g.x5(this.element,"modern-videowall-endscreen");this.L=new g.Ru(this);g.E(this,this.L);this.Y=new g.Dy(function(){g.x5(I.element,"ytp-show-tiles")},0);
g.E(this,this.Y);this.table=new g.kp({W:"div",T:"ytp-modern-endscreen-content"});g.E(this,this.table);this.table.KO(this.element);a.getVideoData().dA?this.V=new UA(a,!0):this.V=new CR(a);g.E(this,this.V);g.w4(this.player,this.V.element,4);a.createClientVe(this.element,this,158789);this.hide()},t8=function(a){return g.FW(a.player)&&a.NH()&&!a.B},nR=function(a){var I=a.Go();
I!==a.C&&(a.C=I,yez(a.player))},oz4=function(a){Tz.call(this,a,"subscribecard-endscreen");
this.V=new g.F({W:"div",T:"ytp-subscribe-card",Z:[{W:"img",T:"ytp-author-image",S:{src:"{{profilePicture}}"}},{W:"div",T:"ytp-subscribe-card-right",Z:[{W:"div",T:"ytp-author-name",AU:"{{author}}"},{W:"div",T:"html5-subscribe-button-container"}]}]});g.E(this,this.V);this.V.KO(this.element);var I=a.getVideoData();this.subscribeButton=new g.QL("\u8a02\u95b1",null,"\u53d6\u6d88\u8a02\u95b1",null,!0,!1,I.Y2,I.subscribed,"trailer-endscreen",null,a,!1);g.E(this,this.subscribeButton);this.subscribeButton.KO(this.V.Ws("html5-subscribe-button-container"));
this.G(a,"videodatachange",this.Qa);this.Qa();this.hide()},KR=function(a){var I=a.X(),U=g.GK||g.pg?{style:"will-change: opacity"}:void 0,e=I.J,T=["ytp-videowall-still"];
I.L&&T.push("ytp-videowall-show-text");g.F.call(this,{W:"a",ww:T,S:{href:"{{url}}",target:e?I.j:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},Z:[{W:"div",T:"ytp-videowall-still-image",S:{style:"{{background}}"}},{W:"span",T:"ytp-videowall-still-info",S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-videowall-still-info-bg",Z:[{W:"span",T:"ytp-videowall-still-info-content",S:U,Z:[{W:"span",T:"ytp-videowall-still-info-title",AU:"{{title}}"},
{W:"span",T:"ytp-videowall-still-info-author",AU:"{{author_and_views}}"},{W:"span",T:"ytp-videowall-still-info-live",AU:"\u76f4\u64ad"},{W:"span",T:"ytp-videowall-still-info-duration",AU:"{{duration}}"}]}]}]},{W:"span",ww:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-videowall-still-listlabel-icon"},"\u64ad\u653e\u6e05\u55ae",{W:"span",T:"ytp-videowall-still-listlabel-length",Z:[" (",{W:"span",AU:"{{playlist_length}}"},")"]}]},
{W:"span",ww:["ytp-videowall-still-listlabel-mix","ytp-videowall-still-listlabel"],S:{"aria-hidden":"true"},Z:[{W:"span",T:"ytp-videowall-still-listlabel-mix-icon"},"\u5408\u8f2f",{W:"span",T:"ytp-videowall-still-listlabel-length",AU:" (50+)"}]}]});this.suggestion=null;this.L=e;this.api=a;this.V=new g.Ru(this);g.E(this,this.V);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.V.G(a,"videodatachange",this.onVideoDataChange);a.createServerVe(this.element,this);this.onVideoDataChange()},
bt=function(a){Tz.call(this,a,"videowall-endscreen");
var I=this;this.K=a;this.B=0;this.stills=[];this.J=this.videoData=null;this.Y=this.D=!1;this.j=null;this.L=new g.Ru(this);g.E(this,this.L);this.C=new g.Dy(function(){g.x5(I.element,"ytp-show-tiles")},0);
g.E(this,this.C);var U=new g.F({W:"button",ww:["ytp-button","ytp-endscreen-previous"],S:{"aria-label":"\u4e0a\u4e00\u90e8"},Z:[g.cE()]});g.E(this,U);U.KO(this.element);U.listen("click",this.E5,this);this.table=new g.kp({W:"div",T:"ytp-endscreen-content"});g.E(this,this.table);this.table.KO(this.element);U=new g.F({W:"button",ww:["ytp-button","ytp-endscreen-next"],S:{"aria-label":"\u4e0b\u4e00\u500b"},Z:[g.WE()]});g.E(this,U);U.KO(this.element);U.listen("click",this.cN,this);a.getVideoData().dA?this.V=
new UA(a,!0):this.V=new CR(a);g.E(this,this.V);g.w4(this.player,this.V.element,4);a.createClientVe(this.element,this,158789);this.hide()},J8=function(a){return g.FW(a.player)&&a.NH()&&!a.J},ut=function(a){var I=a.Go();
I!==a.D&&(a.D=I,yez(a.player))},kA=function(a){Tz.call(this,a,"watch-again-on-youtube-endscreen");
this.watchButton=new qs(a,1);g.E(this,this.watchButton);this.watchButton.KO(this.element);g.zd8(a)&&(this.V=new g.hJ(a),g.E(this,this.V),this.L=new g.F({W:"div",ww:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],S:{tabIndex:"-1"},Z:[this.V]}),g.E(this,this.L),this.V.KO(this.L.element),this.L.KO(this.element));a.createClientVe(this.element,this,156914);this.hide()},IBd=function(a){g.nu.call(this,a);
var I=this;this.endScreen=null;this.L=this.V=this.B=this.J=!1;this.listeners=new g.Ru(this);g.E(this,this.listeners);var U=a.X(),e=a.getVideoData();e=e&&e.limitedPlaybackDurationInSeconds!==0;g.bR(g.Fw(U))&&e&&!g.y7(a)?(this.L=!0,this.endScreen=new xA(a,g.Lh(a))):a.isEmbedsShortsMode()?this.endScreen=new kA(a):Dfz(a)?(this.J=!0,vzI(this),this.V?this.endScreen=new r_(a):U.N("delhi_modern_endscreen")?this.endScreen=new NeJ(a):this.endScreen=new bt(a)):U.ym?this.endScreen=new oz4(a):this.endScreen=new Tz(a);
g.E(this,this.endScreen);g.w4(a,this.endScreen.element,4);aBz(this);this.listeners.G(a,"videodatachange",this.onVideoDataChange,this);this.listeners.G(a,g.ZW("endscreen"),function(T){I.onCueRangeEnter(T)});
this.listeners.G(a,g.tS("endscreen"),function(T){I.onCueRangeExit(T)})},vzI=function(a){var I=a.player.getVideoData();
if(!I||a.V===I.T9&&a.B===I.dA)return!1;a.V=I.T9;a.B=I.dA;return!0},Dfz=function(a){a=a.X();
return a.uj&&!a.ym&&!a.disableOrganicUi},aBz=function(a){a.player.HE("endscreen");
var I=a.player.getVideoData();I=new g.qA(Math.max((I.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var U=new g.qA(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});a.player.xw([I,U])};
g.Y8.prototype.xq=g.Cc(14,function(){return this.app.xq()});
g.K7.prototype.xq=g.Cc(13,function(){return this.getVideoData().Hw});
g.XW.prototype.gp=g.Cc(12,function(a){this.Dg().gp(a)});
g.rj.prototype.gp=g.Cc(11,function(a){this.V!==a&&(this.V=a,this.Qa())});
g.LS.prototype.gp=g.Cc(10,function(a){this.overflowButton&&this.overflowButton.gp(a)});
g.XW.prototype.Lj=g.Cc(9,function(a){this.Dg().Lj(a)});
g.nA.prototype.Lj=g.Cc(8,function(a){this.L!==a&&(this.L=a,this.Qa())});
g.LS.prototype.Lj=g.Cc(7,function(a){this.shareButton&&this.shareButton.Lj(a)});
g.XW.prototype.O_=g.Cc(6,function(a){this.Dg().O_(a)});
g.yL.prototype.O_=g.Cc(5,function(a){this.cj!==a&&(this.cj=a,this.aE())});
g.XW.prototype.U_=g.Cc(4,function(a){this.Dg().U_(a)});
g.LS.prototype.U_=g.Cc(3,function(a){this.jf!==a&&(this.jf=a,this.Na())});g.u(sA,g.F);sA.prototype.select=function(){this.K.pT(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.LC||void 0)&&this.K.logClick(this.element)};
sA.prototype.onClick=function(a){g.bV(a,this.K,this.V,this.suggestion.sessionData||void 0)&&this.select()};
sA.prototype.onKeyPress=function(a){switch(a.keyCode){case 13:case 32:a.defaultPrevented||(this.select(),a.preventDefault())}};g.u(UA,g.F);g.H=UA.prototype;g.H.z4=function(a){this.suggestion!==a&&(this.suggestion=a,It(this.V,a),this.playButton.updateValue("url",this.suggestion.ys()),ey(this))};
g.H.P1=function(){return this.B>0};
g.H.NT=function(){this.P1()||(this.B=Date.now(),wfJ(this),Ezz(this.K,mfz(this)),g.KC(this.K.getRootNode(),"countdown-running",this.P1()))};
g.H.EJ=function(){this.D4();wfJ(this);var a=this.V.Ws("ytp-autonav-endscreen-upnext-header");a&&g.CM(a,"\u5373\u5c07\u64ad\u653e")};
g.H.D4=function(){this.P1()&&(this.J.stop(),this.B=0)};
g.H.select=function(a){this.K.nextVideo(!1,a===void 0?!1:a);this.D4()};
g.H.CA=function(a){g.bV(a,this.K)&&(a.currentTarget===this.playButton.element?this.K.logClick(this.playButton.element):a.currentTarget===this.V.Ws("ytp-autonav-endscreen-link-container")&&(a=this.V.Ws("ytp-autonav-endscreen-link-container"),this.K.logVisibility(a,!0),this.K.logClick(a)),this.Y?(this.K.I$("innertubeCommand",this.Y),this.D4()):this.select())};
g.H.Zs=function(){this.K.logClick(this.cancelButton.element);g.SB(this.K,!0);this.cancelCommand&&this.K.I$("innertubeCommand",this.cancelCommand)};
g.H.onVideoDataChange=function(a,I){RPz(this,I);a=I.getWatchNextResponse();var U,e;a=(U=dfJ(a))==null?void 0:(e=U.cancelButton)==null?void 0:e.buttonRenderer;this.cancelCommand=a==null?void 0:a.command};
g.H.Aha=function(a){if(QR4(this)){var I=this.K.getVideoData().watchToWatchTransitionRenderer,U=I==null?void 0:I.fromColorPaletteDark;I=I==null?void 0:I.toColorPaletteDark;if(U&&I){var e=this.element;e.style.setProperty("--w2w-start-background-color",g.Q$(U.surgeColor));e.style.setProperty("--w2w-start-primary-text-color",g.Q$(U.primaryTitleColor));e.style.setProperty("--w2w-start-secondary-text-color",g.Q$(U.secondaryTitleColor));e.style.setProperty("--w2w-end-background-color",g.Q$(I.surgeColor));
e.style.setProperty("--w2w-end-primary-text-color",g.Q$(I.primaryTitleColor));e.style.setProperty("--w2w-end-secondary-text-color",g.Q$(I.secondaryTitleColor));e.style.setProperty("--w2w-animation-duration",a+"ms")}g.KC(this.element,"ytp-w2w-animate",!0)}};
g.H.PN=function(a){this.K.N("web_autonav_color_transition")&&a!==2&&g.KC(this.element,"ytp-w2w-animate",!1)};
g.H.Nd=function(){var a=this.K.Go();this.C&&this.gF!==a&&this.Vx(a);ey(this);this.K.logVisibility(this.container.element,a);this.K.logVisibility(this.cancelButton.element,a);this.K.logVisibility(this.V.Ws("ytp-autonav-endscreen-link-container"),a);this.K.logVisibility(this.playButton.element,a)};
g.H.JS=function(a){return a.width<400||a.height<459};g.u(Tz,g.F);g.H=Tz.prototype;g.H.create=function(){this.created=!0};
g.H.destroy=function(){this.created=!1};
g.H.NH=function(){return!1};
g.H.Go=function(){return!1};
g.H.bY=function(){return!1};g.u(CR,g.F);g.H=CR.prototype;g.H.FU=function(){this.notification&&(this.J.stop(),this.YY(this.B),this.B=null,this.notification.close(),this.notification=null)};
g.H.z4=function(a){this.suggestion=a;It(this,a,"hqdefault.jpg")};
g.H.Md=function(){this.Vx(this.api.Go());this.api.logVisibility(this.element,this.api.Go());this.api.logVisibility(this.Ws("ytp-upnext-autoplay-icon"),this.api.Go());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.Go())};
g.H.RC8=function(){window.focus();this.FU()};
g.H.NT=function(a){var I=this;this.P1()||(g.n5("a11y-announce","\u5373\u5c07\u64ad\u653e "+this.suggestion.title),this.L=(0,g.w)(),this.V=new g.Dy(function(){hPG(I,a)},25),hPG(this,a),Ezz(this.api,zP8(this,a)));
g.ta(this.element,"ytp-upnext-autoplay-paused")};
g.H.hide=function(){g.F.prototype.hide.call(this)};
g.H.P1=function(){return!!this.V};
g.H.EJ=function(){this.D4();this.L=(0,g.w)();hPG(this);g.x5(this.element,"ytp-upnext-autoplay-paused")};
g.H.D4=function(){this.P1()&&(this.V.dispose(),this.V=null)};
g.H.select=function(a){a=a===void 0?!1:a;if(this.api.X().N("autonav_notifications")&&a&&window.Notification&&typeof document.hasFocus==="function"){var I=Notification.permission;I==="default"?Notification.requestPermission():I!=="granted"||document.hasFocus()||(this.FU(),this.notification=new Notification("\u5373\u5c07\u64ad\u653e",{body:this.suggestion.title,icon:this.suggestion.Ub()}),this.B=this.G(this.notification,"click",this.RC8),this.J.start())}this.D4();this.api.nextVideo(!1,a)};
g.H.Fa=function(a){!g.Ti(this.cancelButton.element,a.target)&&g.bV(a,this.api)&&(this.api.Go()&&this.api.logClick(this.Ws("ytp-upnext-autoplay-icon")),this.select())};
g.H.SR=function(){this.api.Go()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.SB(this.api,!0)};
g.H.lNg=function(a){this.api.getPresentingPlayerType();this.show();this.NT(a)};
g.H.xDs=function(){this.api.getPresentingPlayerType();this.D4();this.hide()};
g.H.Bs=function(){this.D4();this.FU();g.F.prototype.Bs.call(this)};g.u(r_,Tz);g.H=r_.prototype;g.H.create=function(){Tz.prototype.create.call(this);this.J.G(this.player,"appresize",this.wv);this.J.G(this.player,"onVideoAreaChange",this.wv);this.J.G(this.player,"videodatachange",this.onVideoDataChange);this.J.G(this.player,"autonavchange",this.ao);this.J.G(this.player,"onAutonavCancelled",this.Ig);this.onVideoDataChange()};
g.H.show=function(){Tz.prototype.show.call(this);(this.C||this.B&&this.B!==this.videoData.clientPlaybackNonce)&&g.SB(this.player,!1);g.FW(this.player)&&this.NH()&&!this.B?(Hp(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.V.select(!0):this.V.NT():this.videoData.autonavState===3&&this.V.EJ()):(g.SB(this.player,!0),Hp(this));this.wv()};
g.H.hide=function(){Tz.prototype.hide.call(this);this.V.EJ();Hp(this)};
g.H.wv=function(){var a=this.player.lZ(!0,this.player.isFullscreen());Hp(this);ey(this.L);g.KC(this.element,"ytp-autonav-cancelled-small-mode",this.JS(a));g.KC(this.element,"ytp-autonav-cancelled-tiny-mode",this.rk(a));g.KC(this.element,"ytp-autonav-cancelled-mini-mode",a.width<=400||a.height<=360);this.overlay&&g.Gr(this.overlay.element,{width:a.width+"px"});if(!this.Y)for(a=0;a<this.videos.length;a++)g.KC(this.videos[a].element,"ytp-suggestion-card-with-margin",a%2===1)};
g.H.onVideoDataChange=function(){var a=this.player.getVideoData();if(this.videoData!==a&&a){this.videoData=a;if((a=this.videoData.suggestions)&&a.length||this.player.N("web_player_autonav_empty_suggestions_fix")){var I=g.rN(this.videoData);I&&(this.V.z4(I),this.V!==this.L&&this.L.z4(I))}if(a&&a.length)for(I=0;I<slJ.length;++I){var U=slJ[I];if(a&&a[U]){this.videos[I]=new sA(this.player);var e=this.videos[I];U=a[U];e.suggestion!==U&&(e.suggestion=U,It(e,U));g.E(this,this.videos[I]);this.videos[I].KO(this.D.element)}}this.wv()}};
g.H.ao=function(a){a===1?(this.C=!1,this.B=this.videoData.clientPlaybackNonce,this.V.D4(),this.gF&&this.wv()):(this.C=!0,this.Go()&&(a===2?this.V.NT():a===3&&this.V.EJ()))};
g.H.Ig=function(a){a?this.ao(1):(this.B=null,this.C=!1)};
g.H.NH=function(){return this.videoData.autonavState!==1};
g.H.JS=function(a){return(a.width<910||a.height<459)&&!this.rk(a)&&!(a.width<=400||a.height<=360)};
g.H.rk=function(a){return a.width<800&&!(a.width<=400||a.height<=360)};
g.H.Go=function(){return this.gF&&g.FW(this.player)&&this.NH()&&!this.B};
var slJ=[1,3,2,4];g.u(qs,g.F);g.H=qs.prototype;g.H.e$=function(){switch(this.buttonType){case 1:var a="\u5728 YouTube \u4e0a\u518d\u6b21\u89c0\u770b";var I=156915;break;case 2:a="\u524d\u5f80 YouTube \u7e7c\u7e8c\u89c0\u770b";I=156942;break;default:a="\u524d\u5f80 YouTube \u7e7c\u7e8c\u89c0\u770b",I=156942}this.update({content:a});this.K.hasVe(this.element)&&this.K.destroyVe(this.element);this.K.createClientVe(this.element,this,I)};
g.H.onClick=function(a){this.K.N("web_player_log_click_before_generating_ve_conversion_params")&&this.K.logClick(this.element);g.Jw(this.getVideoUrl(),this.K,a);this.K.N("web_player_log_click_before_generating_ve_conversion_params")||this.K.logClick(this.element)};
g.H.getVideoUrl=function(){var a=!0;switch(this.buttonType){case 1:a=!0;break;case 2:a=!1}a=this.K.getVideoUrl(a,!1,!1,!0);var I=this.K.X();if(g.YH(I)){var U={};g.YH(I)&&g.AU(this.K,"addEmbedsConversionTrackingParams",[U]);a=g.pM(a,U)}return a};
g.H.logVisibility=function(){this.K.logVisibility(this.element,this.gF&&this.U)};
g.H.show=function(){g.F.prototype.show.call(this);this.logVisibility()};
g.H.hide=function(){g.F.prototype.hide.call(this);this.logVisibility()};
g.H.qY=function(a){g.F.prototype.qY.call(this,a);this.logVisibility()};g.u(xA,Tz);xA.prototype.show=function(){this.player.getPlayerState()!==3&&(Tz.prototype.show.call(this),this.V.U_(!0),this.V.Lj(!0),this.K.X().vZ||this.V.gp(!0),this.K.logVisibility(this.element,!0),this.watchButton.qY(!0))};
xA.prototype.hide=function(){Tz.prototype.hide.call(this);this.V.U_(!1);this.V.Lj(!1);this.V.gp(!1);this.K.logVisibility(this.element,!1);this.watchButton.qY(!1)};g.u(Z8,g.F);Z8.prototype.select=function(){this.api.pT(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.LC||void 0)&&this.api.logClick(this.element)};
Z8.prototype.onClick=function(a){if(g.YH(this.api.X())&&this.api.N("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var I=this.suggestion.ys(),U={};g.EK(this.api,U);I=g.pM(I,U);g.Jw(I,this.api,a)}else g.bV(a,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
Z8.prototype.onKeyPress=function(a){switch(a.keyCode){case 13:case 32:a.defaultPrevented||(this.select(),a.preventDefault())}};
Z8.prototype.onVideoDataChange=function(){var a=this.api.getVideoData(),I=this.api.X();this.L=a.uc?!1:I.J};g.u(NeJ,Tz);g.H=NeJ.prototype;g.H.create=function(){Tz.prototype.create.call(this);var a=this.player.getVideoData();a&&(this.videoData=a);this.un();this.L.G(this.player,"appresize",this.un);this.L.G(this.player,"onVideoAreaChange",this.un);this.L.G(this.player,"videodatachange",this.onVideoDataChange);this.L.G(this.player,"autonavchange",this.v9);this.L.G(this.player,"onAutonavCancelled",this.uy);a=this.videoData.autonavState;a!==this.D&&this.v9(a);this.L.G(this.element,"transitionend",this.ly)};
g.H.destroy=function(){g.Y3(this.L);g.bH(this.stills);this.stills=[];Tz.prototype.destroy.call(this);g.ta(this.element,"ytp-show-tiles");this.Y.stop();this.D=this.videoData.autonavState};
g.H.NH=function(){return this.videoData.autonavState!==1};
g.H.show=function(){var a=this.gF;Tz.prototype.show.call(this);g.ta(this.element,"ytp-show-tiles");this.player.X().L?g.sb(this.Y):this.Y.start();(this.J||this.B&&this.B!==this.videoData.clientPlaybackNonce)&&g.SB(this.player,!1);t8(this)?(nR(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.V.select(!0):this.V.NT():this.videoData.autonavState===3&&this.V.EJ()):(g.SB(this.player,!0),nR(this));a!==this.gF&&this.player.logVisibility(this.element,!0)};
g.H.hide=function(){var a=this.gF;Tz.prototype.hide.call(this);this.V.EJ();nR(this);a!==this.gF&&this.player.logVisibility(this.element,!1)};
g.H.ly=function(a){a.target===this.element&&this.un()};
g.H.un=function(){var a,I,U,e;var T=((a=this.videoData)==null?0:(I=a.suggestions)==null?0:I.length)?(U=this.videoData)==null?void 0:U.suggestions:[(e=this.videoData)==null?void 0:g.rN(e)];if(T.length){I=this.K.lZ(!0,this.K.isFullscreen());a=Math.floor((I.width-64+16)/(g.WA(I.width*.27,250,450)+16));I=Math.min(3,Math.floor((I.height-64)/((I.width-64-(a-1)*16)/a*.5625+70)));g.nC(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.x5(this.element,"ytp-modern-endscreen-limit-rows-"+I);g.KC(this.element,"ytp-modern-endscreen-single-item",a===1);g.KC(this.element,"ytp-modern-endscreen-row-0",I===0);a=this.table.element;a.ariaLive="polite";this.V.z4(g.rN(this.videoData));this.V instanceof UA&&ey(this.V);g.KC(this.element,"ytp-endscreen-takeover",t8(this));nR(this);I=0;a.ariaBusy="true";U=T.length;for(e=0;e<U;e++){var C=e%U,r=this.stills[e];r||(r=new Z8(this.player),this.stills[e]=r,a.appendChild(r.element));C=T[C];if(r.suggestion!==
C){r.suggestion=C;var q=r.api.X();It(r,C,"hqdefault.jpg");if(g.YH(q)&&!r.api.N("web_player_log_click_before_generating_ve_conversion_params")){q=C.ys();var x={};g.AU(r.api,"addEmbedsConversionTrackingParams",[x]);q=g.pM(q,x);r.updateValue("url",q)}(C=(C=C.sessionData)&&C.itct)&&r.api.setTrackingParams(r.element,C)}I++}this.stills.length=I}};
g.H.onVideoDataChange=function(){var a=this.player.getVideoData(1);this.videoData!==a&&(a!=null&&g.rN(a)?(this.videoData=a,this.un()):this.player.R$("missg",{vid:(a==null?void 0:a.videoId)||"",cpn:(a==null?void 0:a.clientPlaybackNonce)||""}))};
g.H.bY=function(){return this.V.P1()};
g.H.v9=function(a){a===1?(this.J=!1,this.B=this.videoData.clientPlaybackNonce,this.V.D4(),this.gF&&this.un()):(this.J=!0,this.gF&&t8(this)&&(a===2?this.V.NT():a===3&&this.V.EJ()))};
g.H.uy=function(a){if(a){for(a=0;a<this.stills.length;a++)this.K.logVisibility(this.stills[a].element,!0);this.v9(1)}else this.B=null,this.J=!1;this.un()};
g.H.Go=function(){return this.gF&&t8(this)};g.u(oz4,Tz);oz4.prototype.Qa=function(){var a=this.player.getVideoData();this.V.update({profilePicture:a.profilePicture,author:a.author});this.subscribeButton.channelId=a.Y2;var I=this.subscribeButton;a.subscribed?I.V():I.L()};g.u(KR,g.F);KR.prototype.select=function(){this.api.pT(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.LC||void 0)&&this.api.logClick(this.element)};
KR.prototype.onClick=function(a){if(g.YH(this.api.X())&&this.api.N("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var I=this.suggestion.ys(),U={};g.EK(this.api,U);I=g.pM(I,U);g.Jw(I,this.api,a)}else g.bV(a,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
KR.prototype.onKeyPress=function(a){switch(a.keyCode){case 13:case 32:a.defaultPrevented||(this.select(),a.preventDefault())}};
KR.prototype.onVideoDataChange=function(){var a=this.api.getVideoData(),I=this.api.X();this.L=a.uc?!1:I.J};g.u(bt,Tz);g.H=bt.prototype;g.H.create=function(){Tz.prototype.create.call(this);var a=this.player.getVideoData();a&&(this.videoData=a);this.Pu();this.L.G(this.player,"appresize",this.Pu);this.L.G(this.player,"onVideoAreaChange",this.Pu);this.L.G(this.player,"videodatachange",this.onVideoDataChange);this.L.G(this.player,"autonavchange",this.Nf);this.L.G(this.player,"onAutonavCancelled",this.jR);a=this.videoData.autonavState;a!==this.j&&this.Nf(a);this.L.G(this.element,"transitionend",this.s5)};
g.H.destroy=function(){g.Y3(this.L);g.bH(this.stills);this.stills=[];Tz.prototype.destroy.call(this);g.ta(this.element,"ytp-show-tiles");this.C.stop();this.j=this.videoData.autonavState};
g.H.NH=function(){return this.videoData.autonavState!==1};
g.H.show=function(){var a=this.gF;Tz.prototype.show.call(this);g.ta(this.element,"ytp-show-tiles");this.player.X().L?g.sb(this.C):this.C.start();(this.Y||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.SB(this.player,!1);J8(this)?(ut(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.V.select(!0):this.V.NT():this.videoData.autonavState===3&&this.V.EJ()):(g.SB(this.player,!0),ut(this));a!==this.gF&&this.player.logVisibility(this.element,!0)};
g.H.hide=function(){var a=this.gF;Tz.prototype.hide.call(this);this.V.EJ();ut(this);a!==this.gF&&this.player.logVisibility(this.element,!1)};
g.H.s5=function(a){a.target===this.element&&this.Pu()};
g.H.Pu=function(){var a,I,U,e;var T=((a=this.videoData)==null?0:(I=a.suggestions)==null?0:I.length)?(U=this.videoData)==null?void 0:U.suggestions:[(e=this.videoData)==null?void 0:g.rN(e)];if(T.length){g.x5(this.element,"ytp-endscreen-paginate");var C=this.K.lZ(!0,this.K.isFullscreen());if(a=g.Lh(this.K))a=a.NV()?48:32,C.width-=a*2;var r=C.width/C.height;e=96/54;I=a=2;var q=Math.max(C.width/96,2),x=Math.max(C.height/54,2);U=T.length;var Z=U*4;for(Z-=4;Z>0&&(a<q||I<x);){var t=a/2,n=I/2,K=a<=q-2&&Z>=
n*4,b=I<=x-2&&Z>=t*4;if((t+1)/n*e/r>r/(t/(n+1)*e)&&b)Z-=t*4,I+=2;else if(K)Z-=n*4,a+=2;else if(b)Z-=t*4,I+=2;else break}e=!1;Z>=12&&U*4-Z<=6&&(I>=4||a>=4)&&(e=!0);Z=a*96;q=I*54;r=Z/q<r?C.height/q:C.width/Z;r=Math.min(r,2);Z=Math.floor(Math.min(C.width,Z*r));q=Math.floor(Math.min(C.height,q*r));C=this.table.element;C.ariaLive="polite";g.N1(C,Z,q);g.Gr(C,{marginLeft:Z/-2+"px",marginTop:q/-2+"px"});this.V.z4(g.rN(this.videoData));this.V instanceof UA&&ey(this.V);g.KC(this.element,"ytp-endscreen-takeover",
J8(this));ut(this);Z+=4;q+=4;r=0;C.ariaBusy="true";for(x=0;x<a;x++)for(t=0;t<I;t++)if(n=r,b=0,e&&x>=a-2&&t>=I-2?b=1:t%2===0&&x%2===0&&(t<2&&x<2?t===0&&x===0&&(b=2):b=2),n=g.l9(n+this.B,U),b!==0){K=this.stills[r];K||(K=new KR(this.player),this.stills[r]=K,C.appendChild(K.element));var J=Math.floor(q*t/I),V=Math.floor(Z*x/a),M=Math.floor(q*(t+b)/I)-J-4,c=Math.floor(Z*(x+b)/a)-V-4;g.mL(K.element,V,J);g.N1(K.element,c,M);g.Gr(K.element,"transitionDelay",(t+x)/20+"s");g.KC(K.element,"ytp-videowall-still-mini",
b===1);g.KC(K.element,"ytp-videowall-still-large",b>2);b=Math.max(c,M);g.KC(K.element,"ytp-videowall-still-round-large",b>=256);g.KC(K.element,"ytp-videowall-still-round-medium",b>96&&b<256);g.KC(K.element,"ytp-videowall-still-round-small",b<=96);n=T[n];K.suggestion!==n&&(K.suggestion=n,b=K.api.X(),J=g.qI(K.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",It(K,n,J),g.YH(b)&&!K.api.N("web_player_log_click_before_generating_ve_conversion_params")&&(b=n.ys(),J={},g.AU(K.api,"addEmbedsConversionTrackingParams",
[J]),b=g.pM(b,J),K.updateValue("url",b)),(n=(n=n.sessionData)&&n.itct)&&K.api.setTrackingParams(K.element,n));r++}C.ariaBusy="false";g.KC(this.element,"ytp-endscreen-paginate",r<U);for(T=this.stills.length-1;T>=r;T--)a=this.stills[T],g.ec(a.element),g.Kf(a);this.stills.length=r}};
g.H.onVideoDataChange=function(){var a=this.player.getVideoData(1);this.videoData!==a&&(a!=null&&g.rN(a)?(this.B=0,this.videoData=a,this.Pu()):this.player.R$("missg",{vid:(a==null?void 0:a.videoId)||"",cpn:(a==null?void 0:a.clientPlaybackNonce)||""}))};
g.H.cN=function(){this.B+=this.stills.length;this.Pu()};
g.H.E5=function(){this.B-=this.stills.length;this.Pu()};
g.H.bY=function(){return this.V.P1()};
g.H.Nf=function(a){a===1?(this.Y=!1,this.J=this.videoData.clientPlaybackNonce,this.V.D4(),this.gF&&this.Pu()):(this.Y=!0,this.gF&&J8(this)&&(a===2?this.V.NT():a===3&&this.V.EJ()))};
g.H.jR=function(a){if(a){for(a=0;a<this.stills.length;a++)this.K.logVisibility(this.stills[a].element,!0);this.Nf(1)}else this.J=null,this.Y=!1;this.Pu()};
g.H.Go=function(){return this.gF&&J8(this)};g.u(kA,Tz);kA.prototype.hasSuggestions=function(){var a;return(a=this.V)==null?void 0:a.hasSuggestions()};
kA.prototype.show=function(){if(this.player.getPlayerState()!==3){Tz.prototype.show.call(this);var a=this.L;if(a){var I=this.V.hasSuggestions();g.KC(this.element,"ytp-shorts-branded-ui",I);I?a.show():a.hide()}var U;(U=g.Lh(this.player))==null||U.O_(!0);this.player.logVisibility(this.element,!0);this.watchButton.qY(!0)}};
kA.prototype.hide=function(){Tz.prototype.hide.call(this);var a;(a=g.Lh(this.player))==null||a.O_(!1);this.player.logVisibility(this.element,!1);this.watchButton.qY(!1)};g.u(IBd,g.nu);g.H=IBd.prototype;g.H.zZ=function(){var a=this.player.getVideoData(),I=a.mutedAutoplay&&(a.limitedPlaybackDurationInSeconds>0||a.endSeconds>0||a.mutedAutoplayDurationMode!==2);if((this.player.isEmbedsShortsMode()||this.L)&&!I)return!0;var U;var e=!!((a==null?0:g.rN(a))||(a==null?0:(U=a.suggestions)==null?0:U.length));e=!Dfz(this.player)||e;a=a.B1;U=this.player.Cg();return e&&!a&&!U&&!I};
g.H.Go=function(){return this.endScreen.Go()};
g.H.xna=function(){return this.Go()?this.endScreen.bY():!1};
g.H.Bs=function(){this.player.HE("endscreen");g.nu.prototype.Bs.call(this)};
g.H.load=function(){var a=this.player.getVideoData();var I=a.transitionEndpointAtEndOfStream;if(I&&I.videoId){var U=this.player.Ky().gA.get("heartbeat"),e=g.rN(a);!e||I.videoId!==e.videoId||a.WC?(this.player.pT(I.videoId,void 0,void 0,!0,!0,I),U&&U.cq("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),a=!0):a=!1}else a=!1;a||(g.nu.prototype.load.call(this),this.endScreen.show())};
g.H.unload=function(){g.nu.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.H.onCueRangeEnter=function(a){this.zZ()&&(this.endScreen.created||this.endScreen.create(),a.getId()==="load"&&this.load())};
g.H.onCueRangeExit=function(a){a.getId()==="load"&&this.loaded&&this.unload()};
g.H.onVideoDataChange=function(){aBz(this);this.J&&vzI(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.V?this.endScreen=new r_(this.player):this.endScreen=new bt(this.player),g.E(this,this.endScreen),g.w4(this.player,this.endScreen.element,4))};g.th("endscreen",IBd);})(_yt_player);
